{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Akshay\\\\Desktop\\\\Complaint Tracker\\\\frontend\\\\src\\\\pages\\\\Complaints.js\",\n  _s = $RefreshSig$(),\n  _s3 = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport Navbar from '../components/Navbar';\nimport TabSwitcher from '../components/TabSwitcher';\nimport { MapContainer, TileLayer, Marker, Popup } from 'react-leaflet';\nimport 'leaflet/dist/leaflet.css';\nimport L from 'leaflet';\nimport { useMap } from 'react-leaflet';\nimport api from '../api';\n\n// Fix for default marker icon issue in react-leaflet\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\ndelete L.Icon.Default.prototype._getIconUrl;\nL.Icon.Default.mergeOptions({\n  iconRetinaUrl: 'https://unpkg.com/leaflet@1.7.1/dist/images/marker-icon-2x.png',\n  iconUrl: 'https://unpkg.com/leaflet@1.7.1/dist/images/marker-icon.png',\n  shadowUrl: 'https://unpkg.com/leaflet@1.7.1/dist/images/marker-shadow.png'\n});\n\n// Authority handles for Twitter crosspost\nconst AUTHORITY_HANDLES = [{\n  handle: '@mybmc',\n  responsibility: 'Roads & Infrastructure'\n}, {\n  handle: '@MumbaiPolice',\n  responsibility: 'Law & Order'\n}, {\n  handle: '@MESKAMumbai',\n  responsibility: 'Electricity'\n}, {\n  handle: '@mybmcwater',\n  responsibility: 'Water Supply'\n}, {\n  handle: '@TrafficMumbai',\n  responsibility: 'Traffic Management'\n}, {\n  handle: '@MumbaiFireBrig',\n  responsibility: 'Fire Safety'\n}, {\n  handle: '@SwachhMumbai',\n  responsibility: 'Sanitation & Cleanliness'\n}];\n\n// Component to handle map view changes\nfunction MapView({\n  center,\n  zoom\n}) {\n  _s();\n  const map = useMap();\n  useEffect(() => {\n    map.setView(center, zoom);\n  }, [center, zoom, map]);\n  return null;\n}\n_s(MapView, \"IoceErwr5KVGS9kN4RQ1bOkYMAg=\", false, function () {\n  return [useMap];\n});\n_c = MapView;\nfunction Complaints() {\n  _s3();\n  var _s2 = $RefreshSig$();\n  const [activeMainTab, setActiveMainTab] = useState('active');\n  const [activeComplaints, setActiveComplaints] = useState([]);\n  const [solvedComplaints, setSolvedComplaints] = useState([]);\n  const [loading, setLoading] = useState(true);\n  const [showMap, setShowMap] = useState(false);\n  const [selectedLocation, setSelectedLocation] = useState(null);\n  const [mapCenter, setMapCenter] = useState([20.5937, 78.9629]);\n  const [mapZoom, setMapZoom] = useState(5);\n  const [currentUser, setCurrentUser] = useState(null);\n  const [showComplaintModal, setShowComplaintModal] = useState(false);\n  const [selectedComplaint, setSelectedComplaint] = useState(null);\n  const [editMode, setEditMode] = useState(false);\n  const [editedComplaint, setEditedComplaint] = useState({});\n  const [showUpdateModal, setShowUpdateModal] = useState(false);\n  const [showTwitterModal, setShowTwitterModal] = useState(false);\n  const [selectedAuthority, setSelectedAuthority] = useState('');\n  const [updateForm, setUpdateForm] = useState({\n    status: 'pending',\n    description: '',\n    afterPhoto: null,\n    userLocation: null\n  });\n  const [locationStatus, setLocationStatus] = useState('Getting location...');\n  useEffect(() => {\n    const user = JSON.parse(localStorage.getItem('user') || '{}');\n    setCurrentUser(user);\n    console.log('Current user loaded:', user);\n    fetchComplaints();\n    getCurrentUserLocation();\n  }, []);\n  const getCurrentUserLocation = () => {\n    setLocationStatus('Getting location...');\n    if (navigator.geolocation) {\n      navigator.geolocation.getCurrentPosition(position => {\n        const userLoc = {\n          lat: position.coords.latitude,\n          lng: position.coords.longitude\n        };\n        setUpdateForm(prev => ({\n          ...prev,\n          userLocation: userLoc\n        }));\n        setLocationStatus(`Location found: ${userLoc.lat.toFixed(4)}, ${userLoc.lng.toFixed(4)}`);\n        console.log('üìç User location obtained:', userLoc);\n      }, error => {\n        console.error('Error getting user location:', error);\n        setLocationStatus('Location access denied or unavailable');\n        switch (error.code) {\n          case error.PERMISSION_DENIED:\n            setLocationStatus('Location permission denied. Please allow location access.');\n            break;\n          case error.POSITION_UNAVAILABLE:\n            setLocationStatus('Location information unavailable.');\n            break;\n          case error.TIMEOUT:\n            setLocationStatus('Location request timed out.');\n            break;\n          default:\n            setLocationStatus('Unknown location error.');\n        }\n      }, {\n        enableHighAccuracy: true,\n        timeout: 15000,\n        maximumAge: 60000\n      });\n    } else {\n      setLocationStatus('Geolocation not supported by this browser');\n    }\n  };\n  const fetchComplaints = async () => {\n    try {\n      console.log('üîç Fetching complaints...');\n      const response = await api.get('/api/complaints');\n      console.log('‚úÖ Complaints response:', response.data);\n      const complaints = response.data.data || response.data;\n      const active = complaints.filter(c => c.status !== 'completed' && c.status !== 'resolved');\n      const solved = complaints.filter(c => c.status === 'completed' || c.status === 'resolved');\n      setActiveComplaints(active);\n      setSolvedComplaints(solved);\n    } catch (error) {\n      console.error('‚ùå Error fetching complaints:', error);\n      const storedComplaints = JSON.parse(localStorage.getItem('complaints') || '[]');\n      const active = storedComplaints.filter(c => c.status !== 'completed');\n      const solved = storedComplaints.filter(c => c.status === 'completed');\n      setActiveComplaints(active);\n      setSolvedComplaints(solved);\n    } finally {\n      setLoading(false);\n    }\n  };\n  const calculateDistance = (lat1, lon1, lat2, lon2) => {\n    const R = 6371;\n    const dLat = (lat2 - lat1) * Math.PI / 180;\n    const dLon = (lon2 - lon1) * Math.PI / 180;\n    const a = Math.sin(dLat / 2) * Math.sin(dLat / 2) + Math.cos(lat1 * Math.PI / 180) * Math.cos(lat2 * Math.PI / 180) * Math.sin(dLon / 2) * Math.sin(dLon / 2);\n    const c = 2 * Math.atan2(Math.sqrt(a), Math.sqrt(1 - a));\n    const distance = R * c;\n    console.log(`üìè Distance calculated: ${distance.toFixed(3)} km`);\n    return distance;\n  };\n  const pendingComplaints = activeComplaints.filter(c => c.status === 'pending');\n  const partialComplaints = activeComplaints.filter(c => c.status === 'partial-completed');\n  const inProgressComplaints = activeComplaints.filter(c => c.status === 'in-progress');\n  const handleViewDetails = complaint => {\n    setSelectedComplaint(complaint);\n    setEditedComplaint({\n      ...complaint\n    });\n    setShowComplaintModal(true);\n    setEditMode(false);\n  };\n  const handleEditComplaint = () => {\n    if (!currentUser || !currentUser._id) {\n      alert('Please log in to edit complaints');\n      return;\n    }\n    if (currentUser._id !== selectedComplaint.createdBy && currentUser.username !== selectedComplaint.createdByUsername) {\n      alert('Only the original creator can edit this complaint');\n      return;\n    }\n    setEditMode(true);\n  };\n  const handleSaveComplaint = async () => {\n    try {\n      const updateLog = [{\n        timestamp: new Date().toISOString(),\n        action: 'Complaint Edited',\n        user: (currentUser === null || currentUser === void 0 ? void 0 : currentUser.username) || (currentUser === null || currentUser === void 0 ? void 0 : currentUser.email) || 'Anonymous User',\n        userId: currentUser === null || currentUser === void 0 ? void 0 : currentUser._id,\n        description: 'Complaint details were updated by the original creator',\n        changes: {\n          category: editedComplaint.category,\n          priority: editedComplaint.priority,\n          description: editedComplaint.description,\n          address: editedComplaint.address\n        }\n      }];\n      const updatedComplaint = {\n        category: editedComplaint.category,\n        description: editedComplaint.description,\n        priority: editedComplaint.priority,\n        address: editedComplaint.address,\n        updateLog: updateLog\n      };\n      console.log('üíæ Saving complaint with proper user info:', updatedComplaint);\n      await api.put(`/api/complaints/${selectedComplaint._id}`, updatedComplaint);\n      fetchComplaints();\n      setEditMode(false);\n      setShowComplaintModal(false);\n      alert('Complaint updated successfully!');\n    } catch (error) {\n      var _error$response, _error$response$data;\n      console.error('Error updating complaint:', error);\n      alert('Failed to update complaint: ' + (((_error$response = error.response) === null || _error$response === void 0 ? void 0 : (_error$response$data = _error$response.data) === null || _error$response$data === void 0 ? void 0 : _error$response$data.message) || error.message));\n    }\n  };\n  const handleUpdateStatus = complaint => {\n    setSelectedComplaint(complaint);\n    setUpdateForm({\n      status: 'pending',\n      description: '',\n      afterPhoto: null,\n      userLocation: updateForm.userLocation\n    });\n    setShowUpdateModal(true);\n    getCurrentUserLocation();\n  };\n  const handleStatusUpdate = async () => {\n    if (!updateForm.afterPhoto) {\n      alert('Please upload an after photo - it\\'s mandatory for status updates');\n      return;\n    }\n    if (!updateForm.description.trim()) {\n      alert('Please provide a description of the update');\n      return;\n    }\n    if (!updateForm.userLocation) {\n      alert('Unable to get your location. Please allow location access and try again.');\n      getCurrentUserLocation();\n      return;\n    }\n    if (!selectedComplaint.latitude || !selectedComplaint.longitude) {\n      alert('Original complaint location not available');\n      return;\n    }\n    const distance = calculateDistance(updateForm.userLocation.lat, updateForm.userLocation.lng, selectedComplaint.latitude, selectedComplaint.longitude);\n    if (distance > 1) {\n      alert(`You are ${distance.toFixed(2)} km away from the complaint location. You must be within 1km to update status.`);\n      return;\n    }\n    try {\n      const updateLog = [{\n        timestamp: new Date().toISOString(),\n        action: `Status Updated to ${updateForm.status.charAt(0).toUpperCase() + updateForm.status.slice(1)}`,\n        user: (currentUser === null || currentUser === void 0 ? void 0 : currentUser.username) || (currentUser === null || currentUser === void 0 ? void 0 : currentUser.email) || 'Anonymous User',\n        userId: currentUser === null || currentUser === void 0 ? void 0 : currentUser._id,\n        description: updateForm.description,\n        afterPhoto: updateForm.afterPhoto,\n        location: updateForm.userLocation,\n        distanceFromOriginal: distance.toFixed(3) + ' km'\n      }];\n      const updateData = {\n        status: updateForm.status,\n        updateLog: updateLog\n      };\n      if (updateForm.status === 'completed') {\n        updateData.resolvedAt = new Date().toISOString();\n        updateData.resolvedBy = (currentUser === null || currentUser === void 0 ? void 0 : currentUser.username) || (currentUser === null || currentUser === void 0 ? void 0 : currentUser.email) || 'Anonymous User';\n        updateData.resolvedByUserId = currentUser === null || currentUser === void 0 ? void 0 : currentUser._id;\n      }\n      console.log('üîÑ Updating status with proper user info:', updateData);\n      await api.put(`/api/complaints/${selectedComplaint._id}`, updateData);\n      fetchComplaints();\n      setShowUpdateModal(false);\n      alert(`Status updated successfully! Distance verified: ${distance.toFixed(2)} km`);\n    } catch (error) {\n      var _error$response2, _error$response2$data;\n      console.error('Error updating status:', error);\n      alert('Failed to update status: ' + (((_error$response2 = error.response) === null || _error$response2 === void 0 ? void 0 : (_error$response2$data = _error$response2.data) === null || _error$response2$data === void 0 ? void 0 : _error$response2$data.message) || error.message));\n    }\n  };\n  const handleTwitterCrosspost = complaint => {\n    setSelectedComplaint(complaint);\n    setSelectedAuthority('');\n    setShowTwitterModal(true);\n  };\n\n  // FIXED: Safe Twitter function that handles null window.open()\n  // FIXED: Enhanced Twitter function with reliable image display\n  const postToTwitter = () => {\n    try {\n      const coordinates = selectedComplaint.latitude && selectedComplaint.longitude ? `üìç ${selectedComplaint.latitude.toFixed(4)}, ${selectedComplaint.longitude.toFixed(4)}` : '';\n      const tweetText = `üö® COMPLAINT ALERT üö®\n\nCategory: ${selectedComplaint.category}\nPriority: ${selectedComplaint.priority}\nLocation: ${selectedComplaint.address}\n${coordinates}\n\nDescription: ${selectedComplaint.description}\n\n${selectedAuthority ? `${selectedAuthority}` : ''}\n\n#CitizenComplaint #Mumbai #FixIt`;\n\n      // First, always open Twitter\n      const twitterUrl = `https://twitter.com/intent/tweet?text=${encodeURIComponent(tweetText)}`;\n      const twitterWindow = window.open(twitterUrl, '_blank', 'noopener,noreferrer');\n      if (!twitterWindow) {\n        var _navigator$clipboard;\n        alert(`Popup blocked! Please copy this link and open it manually:\\n\\n${twitterUrl}`);\n        (_navigator$clipboard = navigator.clipboard) === null || _navigator$clipboard === void 0 ? void 0 : _navigator$clipboard.writeText(twitterUrl).catch(() => console.log('Could not copy to clipboard'));\n      }\n\n      // FIXED: Enhanced image display method\n      if (selectedComplaint.image) {\n        // Show image immediately without waiting for Twitter\n        setTimeout(() => {\n          const imageWindow = window.open('', 'complaintImageForTwitter', 'width=700,height=600,scrollbars=yes');\n          if (imageWindow) {\n            try {\n              const htmlContent = `\n              <!DOCTYPE html>\n              <html>\n                <head>\n                  <title>Complaint Image - Download for Twitter</title>\n                  <meta charset=\"UTF-8\">\n                  <style>\n                    body { \n                      font-family: 'Segoe UI', Arial, sans-serif; \n                      padding: 20px; \n                      margin: 0;\n                      background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);\n                      color: white;\n                      text-align: center;\n                    }\n                    .container {\n                      background: white;\n                      color: #333;\n                      border-radius: 15px;\n                      padding: 25px;\n                      max-width: 600px;\n                      margin: 0 auto;\n                      box-shadow: 0 10px 30px rgba(0,0,0,0.3);\n                    }\n                    .header {\n                      background: #1DA1F2;\n                      color: white;\n                      padding: 15px;\n                      border-radius: 10px;\n                      margin-bottom: 20px;\n                    }\n                    img { \n                      max-width: 100%; \n                      height: auto; \n                      border: 3px solid #1DA1F2; \n                      border-radius: 10px; \n                      box-shadow: 0 5px 15px rgba(0,0,0,0.2);\n                      margin: 15px 0;\n                    }\n                    .instructions { \n                      background: #f8f9fa; \n                      padding: 20px; \n                      margin: 20px 0; \n                      border-radius: 10px; \n                      text-align: left;\n                      border-left: 4px solid #1DA1F2;\n                    }\n                    .step {\n                      background: white;\n                      margin: 10px 0;\n                      padding: 12px;\n                      border-radius: 8px;\n                      border-left: 3px solid #28a745;\n                      box-shadow: 0 2px 5px rgba(0,0,0,0.1);\n                    }\n                    .buttons {\n                      margin-top: 20px;\n                    }\n                    button { \n                      background: #1DA1F2; \n                      color: white; \n                      padding: 12px 25px; \n                      border: none; \n                      border-radius: 25px; \n                      cursor: pointer; \n                      margin: 5px; \n                      font-size: 14px;\n                      font-weight: bold;\n                      transition: all 0.3s ease;\n                    }\n                    button:hover {\n                      background: #1991db;\n                      transform: translateY(-2px);\n                      box-shadow: 0 5px 15px rgba(29, 161, 242, 0.4);\n                    }\n                    .twitter-logo {\n                      color: #1DA1F2;\n                      font-size: 24px;\n                      margin-right: 8px;\n                    }\n                    .complaint-info {\n                      background: #e3f2fd;\n                      padding: 15px;\n                      border-radius: 8px;\n                      margin: 15px 0;\n                      text-align: left;\n                    }\n                    .complaint-info h4 {\n                      color: #1976d2;\n                      margin: 0 0 10px 0;\n                    }\n                  </style>\n                </head>\n                <body>\n                  <div class=\"container\">\n                    <div class=\"header\">\n                      <h2><span class=\"twitter-logo\">üê¶</span>Twitter Image Upload Helper</h2>\n                    </div>\n                    \n                    <div class=\"complaint-info\">\n                      <h4>üìã Complaint Details:</h4>\n                      <p><strong>Category:</strong> ${selectedComplaint.category}</p>\n                      <p><strong>Priority:</strong> ${selectedComplaint.priority}</p>\n                      <p><strong>Location:</strong> ${selectedComplaint.address}</p>\n                    </div>\n                    \n                    <h3>üì∏ Complaint Photo for Twitter Upload</h3>\n                    <img src=\"${selectedComplaint.image}\" alt=\"Complaint image\" id=\"complaintImage\" />\n                    \n                    <div class=\"instructions\">\n                      <h3 style=\"color: #1DA1F2; margin-top: 0;\">üìù How to Upload to Twitter:</h3>\n                      \n                      <div class=\"step\">\n                        <strong>Step 1:</strong> Right-click on the image above and select \"Save Image As...\" or \"Save Picture As...\"\n                      </div>\n                      \n                      <div class=\"step\">\n                        <strong>Step 2:</strong> Save the image to your device (Downloads folder recommended)\n                      </div>\n                      \n                      <div class=\"step\">\n                        <strong>Step 3:</strong> Go back to your Twitter tab (should be open already)\n                      </div>\n                      \n                      <div class=\"step\">\n                        <strong>Step 4:</strong> In the Twitter compose window, click the üì∑ photo/media button\n                      </div>\n                      \n                      <div class=\"step\">\n                        <strong>Step 5:</strong> Select and upload the saved image file\n                      </div>\n                      \n                      <div class=\"step\">\n                        <strong>Step 6:</strong> Complete and post your tweet!\n                      </div>\n                    </div>\n                    \n                    <div class=\"buttons\">\n                      <button onclick=\"downloadImage()\">üíæ Download Image</button>\n                      <button onclick=\"copyImageData()\">üìã Copy Image</button>\n                      <button onclick=\"window.print()\">üñ®Ô∏è Print Page</button>\n                      <button onclick=\"window.close()\" style=\"background: #dc3545;\">‚úñÔ∏è Close</button>\n                    </div>\n                    \n                    <p style=\"margin-top: 20px; font-size: 12px; color: #666;\">\n                      üí° <strong>Tip:</strong> Keep this window open while posting to Twitter for easy reference!\n                    </p>\n                  </div>\n                  \n                  <script>\n                    function downloadImage() {\n                      try {\n                        const img = document.getElementById('complaintImage');\n                        const canvas = document.createElement('canvas');\n                        const ctx = canvas.getContext('2d');\n                        \n                        canvas.width = img.naturalWidth;\n                        canvas.height = img.naturalHeight;\n                        ctx.drawImage(img, 0, 0);\n                        \n                        canvas.toBlob(function(blob) {\n                          const url = URL.createObjectURL(blob);\n                          const a = document.createElement('a');\n                          a.href = url;\n                          a.download = 'complaint-photo-${selectedComplaint.category.replace(/[^a-zA-Z0-9]/g, '-')}.jpg';\n                          document.body.appendChild(a);\n                          a.click();\n                          document.body.removeChild(a);\n                          URL.revokeObjectURL(url);\n                          \n                          alert('‚úÖ Image downloaded! Check your Downloads folder.');\n                        }, 'image/jpeg', 0.9);\n                      } catch (error) {\n                        alert('‚ùå Download failed. Please right-click and save the image manually.');\n                        console.error('Download error:', error);\n                      }\n                    }\n                    \n                    function copyImageData() {\n                      try {\n                        const img = document.getElementById('complaintImage');\n                        const canvas = document.createElement('canvas');\n                        const ctx = canvas.getContext('2d');\n                        \n                        canvas.width = img.naturalWidth;\n                        canvas.height = img.naturalHeight;\n                        ctx.drawImage(img, 0, 0);\n                        \n                        canvas.toBlob(async function(blob) {\n                          try {\n                            await navigator.clipboard.write([\n                              new ClipboardItem({ 'image/png': blob })\n                            ]);\n                            alert('‚úÖ Image copied to clipboard! You can paste it directly in Twitter.');\n                          } catch (err) {\n                            alert('‚ùå Could not copy to clipboard. Please save the image manually.');\n                          }\n                        });\n                      } catch (error) {\n                        alert('‚ùå Copy failed. Please right-click and save the image manually.');\n                        console.error('Copy error:', error);\n                      }\n                    }\n                    \n                    // Auto-focus and enhance image loading\n                    window.onload = function() {\n                      const img = document.getElementById('complaintImage');\n                      img.onload = function() {\n                        console.log('‚úÖ Image loaded successfully in Twitter helper window');\n                      };\n                      img.onerror = function() {\n                        console.error('‚ùå Image failed to load in Twitter helper window');\n                        this.style.display = 'none';\n                        this.parentNode.innerHTML += '<div style=\"padding: 20px; background: #ffebee; color: #c62828; border-radius: 8px;\">‚ùå Image could not be loaded. Please check the original complaint.</div>';\n                      };\n                    };\n                  </script>\n                </body>\n              </html>\n            `;\n              imageWindow.document.open();\n              imageWindow.document.write(htmlContent);\n              imageWindow.document.close();\n\n              // Focus the image window\n              imageWindow.focus();\n              console.log('‚úÖ Twitter image helper window opened successfully');\n            } catch (docError) {\n              console.error('‚ùå Error writing to image window:', docError);\n              alert('Could not display image helper. Please check your popup blocker settings.');\n            }\n          } else {\n            // Fallback if popup is blocked\n            alert(`üì∏ Twitter Image Available!\\n\\nThe complaint image is available for upload to Twitter.\\nPlease:\\n1. Allow popups for this site\\n2. Or manually save the image from the complaint details\\n3. Upload it to your Twitter post`);\n          }\n        }, 300); // Small delay to ensure Twitter window opens first\n      }\n      setShowTwitterModal(false);\n\n      // Show success message\n      setTimeout(() => {\n        if (selectedComplaint.image) {\n          alert('üê¶ Twitter post opened!\\nüì∏ Image helper window also opened.\\n\\n‚úÖ Follow the instructions in the image window to upload the photo to your tweet.');\n        } else {\n          alert('üê¶ Twitter post opened successfully!\\n\\n‚ÑπÔ∏è No image available for this complaint.');\n        }\n      }, 500);\n    } catch (error) {\n      console.error('‚ùå Error in postToTwitter:', error);\n      alert('‚ùå Error posting to Twitter. Please try again or copy the text manually.');\n    }\n  };\n  const handleViewLocation = (latitude, longitude, title) => {\n    setSelectedLocation({\n      lat: latitude,\n      lng: longitude,\n      title\n    });\n    setMapCenter([latitude, longitude]);\n    setMapZoom(15);\n    setShowMap(true);\n  };\n  const handleFileUpload = e => {\n    const file = e.target.files[0];\n    if (file) {\n      if (file.size > 5 * 1024 * 1024) {\n        alert('Image size should be less than 5MB');\n        return;\n      }\n      const reader = new FileReader();\n      reader.onloadend = () => {\n        console.log('üì∏ Image uploaded for status update:', reader.result ? 'SUCCESS' : 'FAILED');\n        setUpdateForm(prev => ({\n          ...prev,\n          afterPhoto: reader.result\n        }));\n      };\n      reader.readAsDataURL(file);\n    }\n  };\n\n  // Helper function to safely display images with error handling\n  const SafeImage = ({\n    src,\n    alt,\n    className,\n    onClick,\n    onError\n  }) => {\n    _s2();\n    const [imageError, setImageError] = useState(false);\n    const [imageSrc, setImageSrc] = useState(src);\n    const handleImageError = () => {\n      console.log('‚ùå Image failed to load:', src);\n      setImageError(true);\n      if (onError) onError();\n    };\n    const handleImageLoad = () => {\n      console.log('‚úÖ Image loaded successfully:', src);\n      setImageError(false);\n    };\n    if (imageError) {\n      return /*#__PURE__*/_jsxDEV(\"div\", {\n        className: `${className} bg-gray-200 flex items-center justify-center text-gray-500 text-xs`,\n        children: /*#__PURE__*/_jsxDEV(\"span\", {\n          children: \"\\u274C Image not available\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 664,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 663,\n        columnNumber: 9\n      }, this);\n    }\n    return /*#__PURE__*/_jsxDEV(\"img\", {\n      src: imageSrc,\n      alt: alt,\n      className: className,\n      onClick: onClick,\n      onLoad: handleImageLoad,\n      onError: handleImageError,\n      style: {\n        display: 'block'\n      }\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 670,\n      columnNumber: 7\n    }, this);\n  };\n  _s2(SafeImage, \"SNhxHUSCz2/x4tjRPLQ6qrDQoFg=\");\n  if (loading) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"min-h-screen bg-gray-100\",\n      children: [/*#__PURE__*/_jsxDEV(Navbar, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 685,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"main\", {\n        className: \"max-w-7xl mx-auto py-6 sm:px-6 lg:px-8\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"px-4 py-6 sm:px-0\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"text-center py-12\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600 mx-auto mb-4\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 689,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"text-gray-500\",\n              children: \"Loading complaints...\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 690,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 688,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 687,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 686,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 684,\n      columnNumber: 7\n    }, this);\n  }\n  const renderActiveComplaintCards = complaintsToRender => {\n    if (complaintsToRender.length === 0) {\n      return /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"text-center py-12\",\n        children: [/*#__PURE__*/_jsxDEV(\"svg\", {\n          className: \"mx-auto h-12 w-12 text-gray-400\",\n          fill: \"none\",\n          viewBox: \"0 0 24 24\",\n          stroke: \"currentColor\",\n          children: /*#__PURE__*/_jsxDEV(\"path\", {\n            strokeLinecap: \"round\",\n            strokeLinejoin: \"round\",\n            strokeWidth: \"2\",\n            d: \"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 703,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 702,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n          className: \"mt-2 text-sm font-medium text-gray-900\",\n          children: \"No complaints\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 705,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"mt-1 text-sm text-gray-500\",\n          children: \"There are no active complaints at this time.\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 706,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 701,\n        columnNumber: 9\n      }, this);\n    }\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"grid grid-cols-1 gap-4 sm:grid-cols-2 lg:grid-cols-3 animate-fadeIn\",\n      children: complaintsToRender.map((complaint, index) => /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"bg-white overflow-hidden shadow rounded-lg hover-lift\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"px-4 py-5 sm:p-6\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex items-center justify-between\",\n            children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n              className: \"text-lg leading-6 font-medium text-gray-900 truncate\",\n              children: complaint.category || 'Complaint'\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 717,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              className: `px-2 inline-flex text-xs leading-5 font-semibold rounded-full ${complaint.priority === 'High' ? 'bg-red-100 text-red-800' : complaint.priority === 'Medium' ? 'bg-yellow-100 text-yellow-800' : 'bg-green-100 text-green-800'}`,\n              children: complaint.priority || 'Medium'\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 720,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 716,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"mt-2 max-w-xl text-sm text-gray-500\",\n            children: /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"line-clamp-2\",\n              children: complaint.description || 'No description provided'\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 730,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 729,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"mt-3 flex items-center text-sm text-gray-500\",\n            children: [/*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"truncate\",\n              children: complaint.category || 'General'\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 734,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"mx-1\",\n              children: \"\\u2022\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 735,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"truncate\",\n              children: complaint.address || 'Location not specified'\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 736,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 733,\n            columnNumber: 15\n          }, this), complaint.latitude && complaint.longitude && /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"mt-2 text-xs text-gray-400\",\n            children: [\"\\uD83D\\uDCCD \", complaint.latitude.toFixed(4), \", \", complaint.longitude.toFixed(4)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 740,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"mt-4 flex items-center justify-between\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"text-sm text-gray-500\",\n              children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                children: \"Status: \"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 747,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"font-medium text-gray-900 capitalize\",\n                children: complaint.status || 'Pending'\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 748,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 746,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"text-sm text-gray-500\",\n              children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                children: \"Created: \"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 751,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                children: new Date(complaint.createdAt).toLocaleDateString() || 'N/A'\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 752,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 750,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 745,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"mt-2 text-xs text-gray-500\",\n            children: [\"Created by: \", complaint.createdByUsername || complaint.createdBy || 'Unknown User']\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 756,\n            columnNumber: 15\n          }, this), complaint.image && /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"mt-3\",\n            children: /*#__PURE__*/_jsxDEV(SafeImage, {\n              src: complaint.image,\n              alt: \"Complaint\",\n              className: \"h-32 w-full object-cover rounded-md\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 762,\n              columnNumber: 19\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 761,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"mt-4 flex flex-wrap gap-2\",\n            children: [/*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: () => handleViewDetails(complaint),\n              className: \"inline-flex items-center px-2.5 py-1.5 border border-transparent text-xs font-medium rounded text-indigo-700 bg-indigo-100 hover:bg-indigo-200\",\n              children: \"\\uD83D\\uDCDD View Details\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 771,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: () => handleUpdateStatus(complaint),\n              className: \"inline-flex items-center px-2.5 py-1.5 border border-transparent text-xs font-medium rounded text-green-700 bg-green-100 hover:bg-green-200\",\n              children: \"\\uD83D\\uDD04 Update Status\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 777,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: () => handleTwitterCrosspost(complaint),\n              className: \"inline-flex items-center px-2.5 py-1.5 border border-transparent text-xs font-medium rounded text-blue-700 bg-blue-100 hover:bg-blue-200\",\n              children: \"\\uD83D\\uDC26 Post to X\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 783,\n              columnNumber: 17\n            }, this), complaint.latitude && complaint.longitude && /*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: () => handleViewLocation(complaint.latitude, complaint.longitude, complaint.category),\n              className: \"inline-flex items-center px-2.5 py-1.5 border border-transparent text-xs font-medium rounded text-purple-700 bg-purple-100 hover:bg-purple-200\",\n              children: \"\\uD83D\\uDCCD View Location\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 790,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 770,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 715,\n          columnNumber: 13\n        }, this)\n      }, complaint._id || complaint.id || index, false, {\n        fileName: _jsxFileName,\n        lineNumber: 714,\n        columnNumber: 11\n      }, this))\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 712,\n      columnNumber: 7\n    }, this);\n  };\n  const renderSolvedComplaintCards = complaintsToRender => {\n    if (complaintsToRender.length === 0) {\n      return /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"text-center py-12\",\n        children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n          className: \"mt-2 text-sm font-medium text-gray-900\",\n          children: \"No solved complaints\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 809,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"mt-1 text-sm text-gray-500\",\n          children: \"There are no completed complaints at this time.\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 810,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 808,\n        columnNumber: 9\n      }, this);\n    }\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"grid grid-cols-1 gap-4 sm:grid-cols-2 lg:grid-cols-3 animate-fadeIn\",\n      children: complaintsToRender.map((complaint, index) => /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"bg-white overflow-hidden shadow rounded-lg hover-lift\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"px-4 py-5 sm:p-6\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex items-center justify-between\",\n            children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n              className: \"text-lg leading-6 font-medium text-gray-900 truncate\",\n              children: complaint.category || 'Complaint'\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 821,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"px-2 inline-flex text-xs leading-5 font-semibold rounded-full bg-green-100 text-green-800\",\n              children: \"Completed \\u2705\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 824,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 820,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"mt-2 max-w-xl text-sm text-gray-500\",\n            children: /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"line-clamp-2\",\n              children: complaint.description || 'No description provided'\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 830,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 829,\n            columnNumber: 15\n          }, this), complaint.latitude && complaint.longitude && /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"mt-2 text-xs text-gray-400\",\n            children: [\"\\uD83D\\uDCCD \", complaint.latitude.toFixed(4), \", \", complaint.longitude.toFixed(4)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 834,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"mt-3 text-xs text-gray-500\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              children: [\"Created by: \", complaint.createdByUsername || 'Unknown User']\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 840,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              children: [\"Completed by: \", complaint.resolvedBy || 'Unknown User']\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 841,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              children: [\"Completed on: \", complaint.resolvedAt ? new Date(complaint.resolvedAt).toLocaleDateString() : 'N/A']\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 842,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 839,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"mt-4 flex flex-wrap gap-2\",\n            children: /*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: () => handleViewDetails(complaint),\n              className: \"inline-flex items-center px-2.5 py-1.5 border border-transparent text-xs font-medium rounded text-indigo-700 bg-indigo-100 hover:bg-indigo-200\",\n              children: \"\\uD83D\\uDCDD View Details\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 846,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 845,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 819,\n          columnNumber: 13\n        }, this)\n      }, complaint._id || complaint.id || index, false, {\n        fileName: _jsxFileName,\n        lineNumber: 818,\n        columnNumber: 11\n      }, this))\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 816,\n      columnNumber: 7\n    }, this);\n  };\n  const activeTabs = [{\n    label: `All (${activeComplaints.length})`,\n    content: renderActiveComplaintCards(activeComplaints)\n  }, {\n    label: `Pending (${pendingComplaints.length})`,\n    content: renderActiveComplaintCards(pendingComplaints)\n  }, {\n    label: `In Progress (${inProgressComplaints.length})`,\n    content: renderActiveComplaintCards(inProgressComplaints)\n  }];\n  const solvedTabs = [{\n    label: `All (${solvedComplaints.length})`,\n    content: renderSolvedComplaintCards(solvedComplaints)\n  }];\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"min-h-screen bg-gray-100\",\n    children: [/*#__PURE__*/_jsxDEV(Navbar, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 884,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"main\", {\n      className: \"max-w-7xl mx-auto py-6 sm:px-6 lg:px-8\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"px-4 py-6 sm:px-0\",\n        children: [showComplaintModal && selectedComplaint && /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"fixed inset-0 bg-black bg-opacity-75 flex items-center justify-center z-50 p-4\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"bg-white rounded-lg max-w-5xl w-full max-h-[95vh] overflow-y-auto\",\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"p-6\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"flex justify-between items-center mb-6\",\n                children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n                  className: \"text-2xl font-bold text-gray-900\",\n                  children: editMode ? 'Edit Complaint' : 'Complaint Details'\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 895,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"flex gap-2\",\n                  children: [!editMode && currentUser && (currentUser._id === selectedComplaint.createdBy || currentUser.username === selectedComplaint.createdByUsername) && /*#__PURE__*/_jsxDEV(\"button\", {\n                    onClick: handleEditComplaint,\n                    className: \"px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700\",\n                    children: \"\\u270F\\uFE0F Edit\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 903,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                    onClick: () => setShowComplaintModal(false),\n                    className: \"text-gray-500 hover:text-gray-700\",\n                    children: /*#__PURE__*/_jsxDEV(\"svg\", {\n                      className: \"h-6 w-6\",\n                      fill: \"none\",\n                      viewBox: \"0 0 24 24\",\n                      stroke: \"currentColor\",\n                      children: /*#__PURE__*/_jsxDEV(\"path\", {\n                        strokeLinecap: \"round\",\n                        strokeLinejoin: \"round\",\n                        strokeWidth: 2,\n                        d: \"M6 18L18 6M6 6l12 12\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 915,\n                        columnNumber: 27\n                      }, this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 914,\n                      columnNumber: 25\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 910,\n                    columnNumber: 23\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 898,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 894,\n                columnNumber: 19\n              }, this), !editMode && /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"mb-4 p-3 bg-yellow-50 border border-yellow-200 rounded-md\",\n                children: /*#__PURE__*/_jsxDEV(\"p\", {\n                  className: \"text-sm text-yellow-700\",\n                  children: [\"\\uD83D\\uDCA1 Only the original creator (\", selectedComplaint.createdByUsername || 'Unknown User', \") can edit this complaint. Others can update status only.\"]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 923,\n                  columnNumber: 23\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 922,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"grid grid-cols-1 md:grid-cols-2 gap-6\",\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                    className: \"block text-sm font-medium text-gray-700 mb-1\",\n                    children: \"Category\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 932,\n                    columnNumber: 23\n                  }, this), editMode ? /*#__PURE__*/_jsxDEV(\"select\", {\n                    value: editedComplaint.category,\n                    onChange: e => setEditedComplaint(prev => ({\n                      ...prev,\n                      category: e.target.value\n                    })),\n                    className: \"w-full border rounded-md p-2\",\n                    children: [/*#__PURE__*/_jsxDEV(\"option\", {\n                      value: \"Garbage\",\n                      children: \"Garbage\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 939,\n                      columnNumber: 27\n                    }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                      value: \"Water Leakage\",\n                      children: \"Water Leakage\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 940,\n                      columnNumber: 27\n                    }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                      value: \"Pothole\",\n                      children: \"Pothole\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 941,\n                      columnNumber: 27\n                    }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                      value: \"Electricity Issue\",\n                      children: \"Electricity Issue\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 942,\n                      columnNumber: 27\n                    }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                      value: \"Street Light\",\n                      children: \"Street Light\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 943,\n                      columnNumber: 27\n                    }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                      value: \"Sewage\",\n                      children: \"Sewage\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 944,\n                      columnNumber: 27\n                    }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                      value: \"Other\",\n                      children: \"Other\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 945,\n                      columnNumber: 27\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 934,\n                    columnNumber: 25\n                  }, this) : /*#__PURE__*/_jsxDEV(\"p\", {\n                    className: \"text-gray-900\",\n                    children: selectedComplaint.category\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 948,\n                    columnNumber: 25\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 931,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                    className: \"block text-sm font-medium text-gray-700 mb-1\",\n                    children: \"Priority\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 953,\n                    columnNumber: 23\n                  }, this), editMode ? /*#__PURE__*/_jsxDEV(\"select\", {\n                    value: editedComplaint.priority,\n                    onChange: e => setEditedComplaint(prev => ({\n                      ...prev,\n                      priority: e.target.value\n                    })),\n                    className: \"w-full border rounded-md p-2\",\n                    children: [/*#__PURE__*/_jsxDEV(\"option\", {\n                      value: \"Low\",\n                      children: \"Low\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 960,\n                      columnNumber: 27\n                    }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                      value: \"Medium\",\n                      children: \"Medium\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 961,\n                      columnNumber: 27\n                    }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                      value: \"High\",\n                      children: \"High\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 962,\n                      columnNumber: 27\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 955,\n                    columnNumber: 25\n                  }, this) : /*#__PURE__*/_jsxDEV(\"span\", {\n                    className: `px-3 py-1 text-sm rounded-full ${selectedComplaint.priority === 'High' ? 'bg-red-100 text-red-800' : selectedComplaint.priority === 'Medium' ? 'bg-yellow-100 text-yellow-800' : 'bg-green-100 text-green-800'}`,\n                    children: selectedComplaint.priority\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 965,\n                    columnNumber: 25\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 952,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"md:col-span-2\",\n                  children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                    className: \"block text-sm font-medium text-gray-700 mb-1\",\n                    children: \"Description\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 976,\n                    columnNumber: 23\n                  }, this), editMode ? /*#__PURE__*/_jsxDEV(\"textarea\", {\n                    value: editedComplaint.description,\n                    onChange: e => setEditedComplaint(prev => ({\n                      ...prev,\n                      description: e.target.value\n                    })),\n                    rows: 4,\n                    className: \"w-full border rounded-md p-2\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 978,\n                    columnNumber: 25\n                  }, this) : /*#__PURE__*/_jsxDEV(\"p\", {\n                    className: \"text-gray-900\",\n                    children: selectedComplaint.description\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 985,\n                    columnNumber: 25\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 975,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"md:col-span-2\",\n                  children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                    className: \"block text-sm font-medium text-gray-700 mb-1\",\n                    children: \"Address\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 990,\n                    columnNumber: 23\n                  }, this), editMode ? /*#__PURE__*/_jsxDEV(\"input\", {\n                    type: \"text\",\n                    value: editedComplaint.address,\n                    onChange: e => setEditedComplaint(prev => ({\n                      ...prev,\n                      address: e.target.value\n                    })),\n                    className: \"w-full border rounded-md p-2\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 992,\n                    columnNumber: 25\n                  }, this) : /*#__PURE__*/_jsxDEV(\"p\", {\n                    className: \"text-gray-900\",\n                    children: selectedComplaint.address\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 999,\n                    columnNumber: 25\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 989,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                    className: \"block text-sm font-medium text-gray-700 mb-1\",\n                    children: \"Latitude\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1004,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                    className: \"text-gray-600 bg-gray-50 p-2 rounded\",\n                    children: selectedComplaint.latitude ? selectedComplaint.latitude.toFixed(6) : 'Not available'\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1005,\n                    columnNumber: 23\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1003,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                    className: \"block text-sm font-medium text-gray-700 mb-1\",\n                    children: \"Longitude\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1011,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                    className: \"text-gray-600 bg-gray-50 p-2 rounded\",\n                    children: selectedComplaint.longitude ? selectedComplaint.longitude.toFixed(6) : 'Not available'\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1012,\n                    columnNumber: 23\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1010,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 930,\n                columnNumber: 19\n              }, this), selectedComplaint.image && /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"mt-6\",\n                children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                  className: \"block text-sm font-medium text-gray-700 mb-2\",\n                  children: \"Original Photo\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1020,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(SafeImage, {\n                  src: selectedComplaint.image,\n                  alt: \"Original complaint\",\n                  className: \"max-h-64 rounded-md shadow-sm border\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1021,\n                  columnNumber: 23\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 1019,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"mt-6\",\n                children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n                  className: \"text-lg font-medium text-gray-900 mb-3\",\n                  children: \"\\uD83D\\uDCCB Activity Log\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1031,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"bg-gray-50 rounded-md p-4 max-h-80 overflow-y-auto\",\n                  children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"border-l-4 border-blue-500 pl-4 pb-4 mb-4\",\n                    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"flex justify-between items-start\",\n                      children: /*#__PURE__*/_jsxDEV(\"div\", {\n                        className: \"flex-1\",\n                        children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                          className: \"font-medium text-gray-900 flex items-center\",\n                          children: \"\\uD83C\\uDFAF Complaint Created\"\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 1037,\n                          columnNumber: 29\n                        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                          className: \"text-sm text-gray-600 mt-1\",\n                          children: [\"Created by \", /*#__PURE__*/_jsxDEV(\"span\", {\n                            className: \"font-medium text-blue-600\",\n                            children: selectedComplaint.createdByUsername || selectedComplaint.createdBy || 'Unknown User'\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 1041,\n                            columnNumber: 42\n                          }, this)]\n                        }, void 0, true, {\n                          fileName: _jsxFileName,\n                          lineNumber: 1040,\n                          columnNumber: 29\n                        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                          className: \"text-xs text-gray-500\",\n                          children: new Date(selectedComplaint.createdAt).toLocaleString()\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 1045,\n                          columnNumber: 29\n                        }, this)]\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 1036,\n                        columnNumber: 27\n                      }, this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1035,\n                      columnNumber: 25\n                    }, this), selectedComplaint.image && /*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"mt-2\",\n                      children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                        className: \"text-xs text-gray-600 mb-1 font-medium\",\n                        children: \"Original Photo:\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 1052,\n                        columnNumber: 29\n                      }, this), /*#__PURE__*/_jsxDEV(SafeImage, {\n                        src: selectedComplaint.image,\n                        alt: \"Original complaint\",\n                        className: \"max-h-20 rounded-md shadow-sm border cursor-pointer hover:shadow-lg transition-shadow\",\n                        onClick: () => {\n                          const newWindow = window.open('', '_blank', 'width=800,height=600');\n                          if (newWindow) {\n                            newWindow.document.write(`\n                                    <html>\n                                      <head><title>Original Complaint Photo</title></head>\n                                      <body style=\"margin:0; display:flex; justify-content:center; align-items:center; min-height:100vh; background:#000;\">\n                                        <img src=\"${selectedComplaint.image}\" style=\"max-width:100%; max-height:100vh; object-fit:contain;\" alt=\"Original complaint\" />\n                                      </body>\n                                    </html>\n                                  `);\n                          }\n                        }\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 1053,\n                        columnNumber: 29\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1051,\n                      columnNumber: 27\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1034,\n                    columnNumber: 23\n                  }, this), (selectedComplaint.updateLog || []).map((log, index) => {\n                    console.log(`üìä Rendering log entry ${index}:`, {\n                      action: log.action,\n                      user: log.user,\n                      hasAfterPhoto: !!log.afterPhoto,\n                      afterPhotoLength: log.afterPhoto ? log.afterPhoto.length : 0\n                    });\n                    return /*#__PURE__*/_jsxDEV(\"div\", {\n                      className: `border-l-4 pl-4 pb-4 mb-4 last:mb-0 ${log.action.includes('Edit') ? 'border-yellow-500' : log.action.includes('Completed') || log.action.includes('completed') ? 'border-green-500' : 'border-blue-500'}`,\n                      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                        className: \"flex justify-between items-start\",\n                        children: /*#__PURE__*/_jsxDEV(\"div\", {\n                          className: \"flex-1\",\n                          children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                            className: \"font-medium text-gray-900 flex items-center\",\n                            children: [log.action.includes('Edit') ? '‚úèÔ∏è' : log.action.includes('Completed') || log.action.includes('completed') ? '‚úÖ' : 'üîÑ', \" \", log.action]\n                          }, void 0, true, {\n                            fileName: _jsxFileName,\n                            lineNumber: 1092,\n                            columnNumber: 33\n                          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                            className: \"text-sm text-gray-600 mt-1\",\n                            children: [\"Updated by \", /*#__PURE__*/_jsxDEV(\"span\", {\n                              className: \"font-medium text-blue-600\",\n                              children: log.user || 'Unknown User'\n                            }, void 0, false, {\n                              fileName: _jsxFileName,\n                              lineNumber: 1097,\n                              columnNumber: 46\n                            }, this), log.distanceFromOriginal && /*#__PURE__*/_jsxDEV(\"span\", {\n                              className: \"text-green-600 ml-2\",\n                              children: [\"\\uD83D\\uDCCD \", log.distanceFromOriginal, \" from location\"]\n                            }, void 0, true, {\n                              fileName: _jsxFileName,\n                              lineNumber: 1099,\n                              columnNumber: 37\n                            }, this)]\n                          }, void 0, true, {\n                            fileName: _jsxFileName,\n                            lineNumber: 1096,\n                            columnNumber: 33\n                          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                            className: \"text-xs text-gray-500\",\n                            children: new Date(log.timestamp).toLocaleString()\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 1102,\n                            columnNumber: 33\n                          }, this), log.description && /*#__PURE__*/_jsxDEV(\"div\", {\n                            className: \"mt-2 bg-white p-3 rounded border-l-2 border-gray-300\",\n                            children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                              className: \"text-xs text-gray-600 font-medium mb-1\",\n                              children: \"Update Description:\"\n                            }, void 0, false, {\n                              fileName: _jsxFileName,\n                              lineNumber: 1107,\n                              columnNumber: 37\n                            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                              className: \"text-sm text-gray-700\",\n                              children: log.description\n                            }, void 0, false, {\n                              fileName: _jsxFileName,\n                              lineNumber: 1108,\n                              columnNumber: 37\n                            }, this)]\n                          }, void 0, true, {\n                            fileName: _jsxFileName,\n                            lineNumber: 1106,\n                            columnNumber: 35\n                          }, this), log.changes && Object.keys(log.changes).length > 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n                            className: \"mt-2 bg-yellow-50 p-2 rounded border-l-2 border-yellow-400\",\n                            children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                              className: \"text-xs text-yellow-700 font-medium\",\n                              children: \"Changes Made:\"\n                            }, void 0, false, {\n                              fileName: _jsxFileName,\n                              lineNumber: 1113,\n                              columnNumber: 37\n                            }, this), Object.entries(log.changes).map(([key, value]) => /*#__PURE__*/_jsxDEV(\"p\", {\n                              className: \"text-xs text-yellow-800\",\n                              children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                                children: [key, \":\"]\n                              }, void 0, true, {\n                                fileName: _jsxFileName,\n                                lineNumber: 1116,\n                                columnNumber: 41\n                              }, this), \" \", value]\n                            }, key, true, {\n                              fileName: _jsxFileName,\n                              lineNumber: 1115,\n                              columnNumber: 39\n                            }, this))]\n                          }, void 0, true, {\n                            fileName: _jsxFileName,\n                            lineNumber: 1112,\n                            columnNumber: 35\n                          }, this)]\n                        }, void 0, true, {\n                          fileName: _jsxFileName,\n                          lineNumber: 1091,\n                          columnNumber: 31\n                        }, this)\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 1090,\n                        columnNumber: 29\n                      }, this), log.afterPhoto && /*#__PURE__*/_jsxDEV(\"div\", {\n                        className: \"mt-3 bg-white p-3 rounded border-2 border-gray-200\",\n                        children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                          className: \"text-xs text-gray-600 mb-2 font-medium\",\n                          children: \"\\uD83D\\uDCF8 After Photo:\"\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 1127,\n                          columnNumber: 33\n                        }, this), /*#__PURE__*/_jsxDEV(SafeImage, {\n                          src: log.afterPhoto,\n                          alt: `After photo - ${log.action}`,\n                          className: \"max-h-40 w-auto rounded-md shadow-sm border cursor-pointer hover:shadow-lg transition-shadow\",\n                          onClick: () => {\n                            const newWindow = window.open('', '_blank', 'width=900,height=700');\n                            if (newWindow) {\n                              newWindow.document.write(`\n                                        <html>\n                                          <head><title>After Photo - ${log.action}</title></head>\n                                          <body style=\"margin:0; display:flex; flex-direction:column; justify-content:center; align-items:center; min-height:100vh; background:#000; color:white; font-family:Arial; padding:20px;\">\n                                            <h3 style=\"margin-bottom:20px; text-align:center;\">${log.action} - ${log.user}</h3>\n                                            <img src=\"${log.afterPhoto}\" style=\"max-width:90%; max-height:70vh; object-fit:contain; border:2px solid #fff;\" alt=\"After photo\" />\n                                            <div style=\"margin-top:20px; text-align:center; max-width:600px;\">\n                                              <p style=\"margin:10px 0;\"><strong>Description:</strong> ${log.description || 'No description provided'}</p>\n                                              <p style=\"margin:10px 0;\"><strong>Date:</strong> ${new Date(log.timestamp).toLocaleString()}</p>\n                                              ${log.distanceFromOriginal ? `<p style=\"margin:10px 0;\"><strong>Distance:</strong> ${log.distanceFromOriginal} from original location</p>` : ''}\n                                            </div>\n                                          </body>\n                                        </html>\n                                      `);\n                            }\n                          }\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 1128,\n                          columnNumber: 33\n                        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                          className: \"text-xs text-gray-500 mt-1\",\n                          children: \"\\uD83D\\uDCF1 Click to view full size\"\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 1152,\n                          columnNumber: 33\n                        }, this)]\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 1126,\n                        columnNumber: 31\n                      }, this)]\n                    }, index, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1085,\n                      columnNumber: 27\n                    }, this);\n                  }), selectedComplaint.resolvedAt && /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"border-l-4 border-green-500 pl-4 pb-4 bg-green-50 rounded-r\",\n                    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"flex justify-between items-start\",\n                      children: /*#__PURE__*/_jsxDEV(\"div\", {\n                        className: \"flex-1\",\n                        children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                          className: \"font-medium text-green-900 flex items-center\",\n                          children: \"\\uD83C\\uDF89 Complaint Completed\"\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 1164,\n                          columnNumber: 31\n                        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                          className: \"text-sm text-green-700 mt-1\",\n                          children: [\"Completed by \", /*#__PURE__*/_jsxDEV(\"span\", {\n                            className: \"font-medium\",\n                            children: selectedComplaint.resolvedBy || 'Unknown User'\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 1168,\n                            columnNumber: 46\n                          }, this)]\n                        }, void 0, true, {\n                          fileName: _jsxFileName,\n                          lineNumber: 1167,\n                          columnNumber: 31\n                        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                          className: \"text-xs text-green-600\",\n                          children: new Date(selectedComplaint.resolvedAt).toLocaleString()\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 1170,\n                          columnNumber: 31\n                        }, this)]\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 1163,\n                        columnNumber: 29\n                      }, this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1162,\n                      columnNumber: 27\n                    }, this), (() => {\n                      const completionLog = (selectedComplaint.updateLog || []).filter(log => (log.action.includes('completed') || log.action.includes('Completed')) && log.afterPhoto).pop();\n                      return completionLog && completionLog.afterPhoto && /*#__PURE__*/_jsxDEV(\"div\", {\n                        className: \"mt-3 bg-white p-2 rounded border\",\n                        children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                          className: \"text-xs text-green-700 mb-2 font-medium\",\n                          children: \"\\u2705 Completion Photo:\"\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 1184,\n                          columnNumber: 33\n                        }, this), /*#__PURE__*/_jsxDEV(SafeImage, {\n                          src: completionLog.afterPhoto,\n                          alt: \"Completion photo\",\n                          className: \"max-h-32 rounded-md shadow-sm border cursor-pointer hover:shadow-lg transition-shadow\",\n                          onClick: () => {\n                            const newWindow = window.open('', '_blank', 'width=800,height=600');\n                            if (newWindow) {\n                              newWindow.document.write(`\n                                        <html>\n                                          <head><title>Completion Photo</title></head>\n                                          <body style=\"margin:0; display:flex; flex-direction:column; justify-content:center; align-items:center; min-height:100vh; background:#000; color:white; font-family:Arial;\">\n                                            <h3 style=\"margin-bottom:20px; color:#4ade80;\">‚úÖ Complaint Completed</h3>\n                                            <img src=\"${completionLog.afterPhoto}\" style=\"max-width:90%; max-height:80vh; object-fit:contain; border:2px solid #4ade80;\" alt=\"Completion photo\" />\n                                            <p style=\"margin-top:20px; text-align:center; max-width:600px;\">${completionLog.description}</p>\n                                          </body>\n                                        </html>\n                                      `);\n                            }\n                          }\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 1185,\n                          columnNumber: 33\n                        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                          className: \"text-xs text-green-600 mt-1\",\n                          children: \"\\uD83D\\uDCF1 Click to view full size\"\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 1205,\n                          columnNumber: 33\n                        }, this)]\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 1183,\n                        columnNumber: 31\n                      }, this);\n                    })()]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1161,\n                    columnNumber: 25\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1032,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 1030,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"mt-6 flex justify-end gap-3\",\n                children: editMode ? /*#__PURE__*/_jsxDEV(_Fragment, {\n                  children: [/*#__PURE__*/_jsxDEV(\"button\", {\n                    onClick: () => setEditMode(false),\n                    className: \"px-4 py-2 border border-gray-300 rounded-md text-gray-700 hover:bg-gray-50\",\n                    children: \"Cancel\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1217,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                    onClick: handleSaveComplaint,\n                    className: \"px-4 py-2 bg-green-600 text-white rounded-md hover:bg-green-700\",\n                    children: \"\\uD83D\\uDCBE Save Changes\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1223,\n                    columnNumber: 25\n                  }, this)]\n                }, void 0, true) : /*#__PURE__*/_jsxDEV(\"button\", {\n                  onClick: () => setShowComplaintModal(false),\n                  className: \"px-4 py-2 bg-gray-600 text-white rounded-md hover:bg-gray-700\",\n                  children: \"Close\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1231,\n                  columnNumber: 23\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1214,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 893,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 892,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 891,\n          columnNumber: 13\n        }, this), showUpdateModal && /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"fixed inset-0 bg-black bg-opacity-75 flex items-center justify-center z-50 p-4\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"bg-white rounded-lg max-w-2xl w-full\",\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"p-6\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"flex justify-between items-center mb-6\",\n                children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n                  className: \"text-xl font-bold text-gray-900\",\n                  children: \"Update Complaint Status\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1250,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                  onClick: () => setShowUpdateModal(false),\n                  className: \"text-gray-500 hover:text-gray-700\",\n                  children: /*#__PURE__*/_jsxDEV(\"svg\", {\n                    className: \"h-6 w-6\",\n                    fill: \"none\",\n                    viewBox: \"0 0 24 24\",\n                    stroke: \"currentColor\",\n                    children: /*#__PURE__*/_jsxDEV(\"path\", {\n                      strokeLinecap: \"round\",\n                      strokeLinejoin: \"round\",\n                      strokeWidth: 2,\n                      d: \"M6 18L18 6M6 6l12 12\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1256,\n                      columnNumber: 25\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1255,\n                    columnNumber: 23\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1251,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 1249,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"space-y-4\",\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                    className: \"block text-sm font-medium text-gray-700 mb-1\",\n                    children: \"Status\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1263,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n                    value: updateForm.status,\n                    onChange: e => setUpdateForm(prev => ({\n                      ...prev,\n                      status: e.target.value\n                    })),\n                    className: \"w-full border rounded-md p-2\",\n                    children: [/*#__PURE__*/_jsxDEV(\"option\", {\n                      value: \"pending\",\n                      children: \"Pending\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1269,\n                      columnNumber: 25\n                    }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                      value: \"partial-completed\",\n                      children: \"Partial Completed\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1270,\n                      columnNumber: 25\n                    }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                      value: \"completed\",\n                      children: \"Completed\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1271,\n                      columnNumber: 25\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1264,\n                    columnNumber: 23\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1262,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                    className: \"block text-sm font-medium text-gray-700 mb-1\",\n                    children: \"Update Description *\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1276,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"textarea\", {\n                    value: updateForm.description,\n                    onChange: e => setUpdateForm(prev => ({\n                      ...prev,\n                      description: e.target.value\n                    })),\n                    rows: 3,\n                    className: \"w-full border rounded-md p-2\",\n                    placeholder: \"Describe the changes made or current status...\",\n                    required: true\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1277,\n                    columnNumber: 23\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1275,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                    className: \"block text-sm font-medium text-gray-700 mb-1\",\n                    children: \"After Photo *\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1288,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                    type: \"file\",\n                    accept: \"image/*\",\n                    onChange: handleFileUpload,\n                    className: \"w-full border rounded-md p-2\",\n                    required: true\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1289,\n                    columnNumber: 23\n                  }, this), updateForm.afterPhoto && /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"mt-2\",\n                    children: [/*#__PURE__*/_jsxDEV(SafeImage, {\n                      src: updateForm.afterPhoto,\n                      alt: \"After photo preview\",\n                      className: \"h-32 w-32 object-cover rounded-md border shadow-sm\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1298,\n                      columnNumber: 27\n                    }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                      className: \"text-xs text-gray-500 mt-1\",\n                      children: \"Preview of after photo\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1303,\n                      columnNumber: 27\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1297,\n                    columnNumber: 25\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1287,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"bg-blue-50 p-3 rounded-md\",\n                  children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                    className: \"text-sm text-blue-700\",\n                    children: [\"\\uD83D\\uDCCD Location verification status: \", locationStatus]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1309,\n                    columnNumber: 23\n                  }, this), updateForm.userLocation && selectedComplaint.latitude && selectedComplaint.longitude && /*#__PURE__*/_jsxDEV(\"p\", {\n                    className: \"text-sm text-green-700 mt-1\",\n                    children: [\"\\u2705 Distance: \", calculateDistance(updateForm.userLocation.lat, updateForm.userLocation.lng, selectedComplaint.latitude, selectedComplaint.longitude).toFixed(3), \" km from complaint location\"]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1313,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                    onClick: getCurrentUserLocation,\n                    className: \"mt-2 text-sm text-blue-600 hover:text-blue-800 underline\",\n                    children: \"\\uD83D\\uDD04 Refresh Location\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1322,\n                    columnNumber: 23\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1308,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"bg-gray-50 p-3 rounded-md\",\n                  children: /*#__PURE__*/_jsxDEV(\"p\", {\n                    className: \"text-sm text-gray-700\",\n                    children: [\"\\uD83D\\uDC64 Updating as: \", /*#__PURE__*/_jsxDEV(\"span\", {\n                      className: \"font-medium\",\n                      children: (currentUser === null || currentUser === void 0 ? void 0 : currentUser.username) || (currentUser === null || currentUser === void 0 ? void 0 : currentUser.email) || 'Unknown User'\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1332,\n                      columnNumber: 41\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1331,\n                    columnNumber: 23\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1330,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 1261,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"mt-6 flex justify-end gap-3\",\n                children: [/*#__PURE__*/_jsxDEV(\"button\", {\n                  onClick: () => setShowUpdateModal(false),\n                  className: \"px-4 py-2 border border-gray-300 rounded-md text-gray-700 hover:bg-gray-50\",\n                  children: \"Cancel\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1338,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                  onClick: handleStatusUpdate,\n                  disabled: !updateForm.userLocation,\n                  className: \"px-4 py-2 bg-green-600 text-white rounded-md hover:bg-green-700 disabled:opacity-50 disabled:cursor-not-allowed\",\n                  children: \"\\uD83D\\uDD04 Update Status\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1344,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 1337,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1248,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1247,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1246,\n          columnNumber: 13\n        }, this), showTwitterModal && /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"fixed inset-0 bg-black bg-opacity-75 flex items-center justify-center z-50 p-4\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"bg-white rounded-lg max-w-2xl w-full\",\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"p-6\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"flex justify-between items-center mb-6\",\n                children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n                  className: \"text-xl font-bold text-gray-900\",\n                  children: \"\\uD83D\\uDC26 Post to X (Twitter)\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1363,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                  onClick: () => setShowTwitterModal(false),\n                  className: \"text-gray-500 hover:text-gray-700\",\n                  children: /*#__PURE__*/_jsxDEV(\"svg\", {\n                    className: \"h-6 w-6\",\n                    fill: \"none\",\n                    viewBox: \"0 0 24 24\",\n                    stroke: \"currentColor\",\n                    children: /*#__PURE__*/_jsxDEV(\"path\", {\n                      strokeLinecap: \"round\",\n                      strokeLinejoin: \"round\",\n                      strokeWidth: 2,\n                      d: \"M6 18L18 6M6 6l12 12\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1369,\n                      columnNumber: 25\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1368,\n                    columnNumber: 23\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1364,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 1362,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"space-y-4\",\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                    className: \"block text-sm font-medium text-gray-700 mb-1\",\n                    children: \"Select Authority to Tag\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1376,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n                    value: selectedAuthority,\n                    onChange: e => setSelectedAuthority(e.target.value),\n                    className: \"w-full border rounded-md p-2\",\n                    children: [/*#__PURE__*/_jsxDEV(\"option\", {\n                      value: \"\",\n                      children: \"Select an authority...\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1382,\n                      columnNumber: 25\n                    }, this), AUTHORITY_HANDLES.map((authority, index) => /*#__PURE__*/_jsxDEV(\"option\", {\n                      value: authority.handle,\n                      children: [authority.handle, \" - \", authority.responsibility]\n                    }, index, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1384,\n                      columnNumber: 27\n                    }, this))]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1377,\n                    columnNumber: 23\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1375,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                    className: \"block text-sm font-medium text-gray-700 mb-1\",\n                    children: \"Tweet Preview\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1392,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"border rounded-md p-3 bg-gray-50 text-sm\",\n                    children: [\"\\uD83D\\uDEA8 COMPLAINT ALERT \\uD83D\\uDEA8\", /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1394,\n                      columnNumber: 46\n                    }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1394,\n                      columnNumber: 51\n                    }, this), \"Category: \", selectedComplaint === null || selectedComplaint === void 0 ? void 0 : selectedComplaint.category, /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1395,\n                      columnNumber: 64\n                    }, this), \"Priority: \", selectedComplaint === null || selectedComplaint === void 0 ? void 0 : selectedComplaint.priority, /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1396,\n                      columnNumber: 64\n                    }, this), \"Location: \", selectedComplaint === null || selectedComplaint === void 0 ? void 0 : selectedComplaint.address, /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1397,\n                      columnNumber: 63\n                    }, this), (selectedComplaint === null || selectedComplaint === void 0 ? void 0 : selectedComplaint.latitude) && (selectedComplaint === null || selectedComplaint === void 0 ? void 0 : selectedComplaint.longitude) && /*#__PURE__*/_jsxDEV(_Fragment, {\n                      children: [\"\\uD83D\\uDCCD \", selectedComplaint.latitude.toFixed(4), \", \", selectedComplaint.longitude.toFixed(4), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 1399,\n                        columnNumber: 113\n                      }, this)]\n                    }, void 0, true), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1401,\n                      columnNumber: 25\n                    }, this), \"Description: \", selectedComplaint === null || selectedComplaint === void 0 ? void 0 : selectedComplaint.description, /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1402,\n                      columnNumber: 70\n                    }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1402,\n                      columnNumber: 75\n                    }, this), selectedAuthority && /*#__PURE__*/_jsxDEV(\"span\", {\n                      className: \"text-blue-600\",\n                      children: selectedAuthority\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1403,\n                      columnNumber: 47\n                    }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1403,\n                      columnNumber: 106\n                    }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1403,\n                      columnNumber: 111\n                    }, this), \"#CitizenComplaint #Mumbai #FixIt\"]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1393,\n                    columnNumber: 23\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1391,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 1374,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"mt-6 flex justify-end gap-3\",\n                children: [/*#__PURE__*/_jsxDEV(\"button\", {\n                  onClick: () => setShowTwitterModal(false),\n                  className: \"px-4 py-2 border border-gray-300 rounded-md text-gray-700 hover:bg-gray-50\",\n                  children: \"Cancel\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1410,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                  onClick: postToTwitter,\n                  className: \"px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700\",\n                  children: \"\\uD83D\\uDC26 Post to X\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1416,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 1409,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1361,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1360,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1359,\n          columnNumber: 13\n        }, this), showMap && /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"fixed inset-0 bg-black bg-opacity-75 flex items-center justify-center z-50 p-4\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"bg-white rounded-lg max-w-4xl w-full\",\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"p-4\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"flex justify-between items-center mb-4\",\n                children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n                  className: \"text-lg font-medium\",\n                  children: selectedLocation ? `Location: ${selectedLocation.title}` : 'Complaint Location'\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1434,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                  onClick: () => setShowMap(false),\n                  className: \"text-gray-500 hover:text-gray-700\",\n                  children: /*#__PURE__*/_jsxDEV(\"svg\", {\n                    className: \"h-6 w-6\",\n                    fill: \"none\",\n                    viewBox: \"0 0 24 24\",\n                    stroke: \"currentColor\",\n                    children: /*#__PURE__*/_jsxDEV(\"path\", {\n                      strokeLinecap: \"round\",\n                      strokeLinejoin: \"round\",\n                      strokeWidth: 2,\n                      d: \"M6 18L18 6M6 6l12 12\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1442,\n                      columnNumber: 25\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1441,\n                    columnNumber: 23\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1437,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 1433,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"h-96 rounded-lg overflow-hidden\",\n                children: /*#__PURE__*/_jsxDEV(MapContainer, {\n                  center: mapCenter,\n                  zoom: mapZoom,\n                  scrollWheelZoom: true,\n                  style: {\n                    height: '100%',\n                    width: '100%'\n                  },\n                  children: [/*#__PURE__*/_jsxDEV(MapView, {\n                    center: mapCenter,\n                    zoom: mapZoom\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1454,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(TileLayer, {\n                    attribution: \"\\xA9 <a href=\\\"https://www.openstreetmap.org/copyright\\\">OpenStreetMap</a> contributors\",\n                    url: \"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1455,\n                    columnNumber: 23\n                  }, this), selectedLocation && /*#__PURE__*/_jsxDEV(Marker, {\n                    position: [selectedLocation.lat, selectedLocation.lng],\n                    children: /*#__PURE__*/_jsxDEV(Popup, {\n                      children: /*#__PURE__*/_jsxDEV(\"div\", {\n                        children: /*#__PURE__*/_jsxDEV(\"h3\", {\n                          className: \"font-bold\",\n                          children: selectedLocation.title\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 1463,\n                          columnNumber: 31\n                        }, this)\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 1462,\n                        columnNumber: 29\n                      }, this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1461,\n                      columnNumber: 27\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1460,\n                    columnNumber: 25\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1448,\n                  columnNumber: 21\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1447,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1432,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1431,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1430,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex flex-col md:flex-row md:items-center md:justify-between mb-6\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n              className: \"text-2xl font-bold text-gray-900\",\n              children: \"Complaints Dashboard\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1477,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"mt-1 text-sm text-gray-500\",\n              children: [\"Total: \", activeComplaints.length + solvedComplaints.length, \" complaints\", currentUser && /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"ml-2 text-blue-600\",\n                children: [\"\\u2022 Logged in as: \", currentUser.username || currentUser.email]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 1481,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1478,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1476,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"mt-4 md:mt-0 flex space-x-3\",\n            children: /*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: fetchComplaints,\n              className: \"inline-flex items-center px-4 py-2 border border-gray-300 text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50\",\n              children: \"\\uD83D\\uDD04 Refresh\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1486,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1485,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1475,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"mb-6\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"border-b border-gray-200\",\n            children: /*#__PURE__*/_jsxDEV(\"nav\", {\n              className: \"-mb-px flex space-x-8\",\n              children: [/*#__PURE__*/_jsxDEV(\"button\", {\n                onClick: () => setActiveMainTab('active'),\n                className: `${activeMainTab === 'active' ? 'border-blue-500 text-blue-600' : 'border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300'} whitespace-nowrap py-4 px-1 border-b-2 font-medium text-sm`,\n                children: [\"Active Complaints (\", activeComplaints.length, \")\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 1498,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                onClick: () => setActiveMainTab('completed'),\n                className: `${activeMainTab === 'completed' ? 'border-blue-500 text-blue-600' : 'border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300'} whitespace-nowrap py-4 px-1 border-b-2 font-medium text-sm`,\n                children: [\"Completed Complaints (\", solvedComplaints.length, \")\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 1508,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1497,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1496,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1495,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"bg-white shadow overflow-hidden sm:rounded-lg\",\n          children: activeMainTab === 'active' ? /*#__PURE__*/_jsxDEV(TabSwitcher, {\n            tabs: activeTabs\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1524,\n            columnNumber: 15\n          }, this) : /*#__PURE__*/_jsxDEV(TabSwitcher, {\n            tabs: solvedTabs\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1526,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1522,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 887,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 886,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 883,\n    columnNumber: 5\n  }, this);\n}\n_s3(Complaints, \"HXUAxFVDlPN0ynM6u4KysO4pMFM=\");\n_c2 = Complaints;\nexport default Complaints;\nvar _c, _c2;\n$RefreshReg$(_c, \"MapView\");\n$RefreshReg$(_c2, \"Complaints\");","map":{"version":3,"names":["React","useState","useEffect","Navbar","TabSwitcher","MapContainer","TileLayer","Marker","Popup","L","useMap","api","jsxDEV","_jsxDEV","Fragment","_Fragment","Icon","Default","prototype","_getIconUrl","mergeOptions","iconRetinaUrl","iconUrl","shadowUrl","AUTHORITY_HANDLES","handle","responsibility","MapView","center","zoom","_s","map","setView","_c","Complaints","_s3","_s2","$RefreshSig$","activeMainTab","setActiveMainTab","activeComplaints","setActiveComplaints","solvedComplaints","setSolvedComplaints","loading","setLoading","showMap","setShowMap","selectedLocation","setSelectedLocation","mapCenter","setMapCenter","mapZoom","setMapZoom","currentUser","setCurrentUser","showComplaintModal","setShowComplaintModal","selectedComplaint","setSelectedComplaint","editMode","setEditMode","editedComplaint","setEditedComplaint","showUpdateModal","setShowUpdateModal","showTwitterModal","setShowTwitterModal","selectedAuthority","setSelectedAuthority","updateForm","setUpdateForm","status","description","afterPhoto","userLocation","locationStatus","setLocationStatus","user","JSON","parse","localStorage","getItem","console","log","fetchComplaints","getCurrentUserLocation","navigator","geolocation","getCurrentPosition","position","userLoc","lat","coords","latitude","lng","longitude","prev","toFixed","error","code","PERMISSION_DENIED","POSITION_UNAVAILABLE","TIMEOUT","enableHighAccuracy","timeout","maximumAge","response","get","data","complaints","active","filter","c","solved","storedComplaints","calculateDistance","lat1","lon1","lat2","lon2","R","dLat","Math","PI","dLon","a","sin","cos","atan2","sqrt","distance","pendingComplaints","partialComplaints","inProgressComplaints","handleViewDetails","complaint","handleEditComplaint","_id","alert","createdBy","username","createdByUsername","handleSaveComplaint","updateLog","timestamp","Date","toISOString","action","email","userId","changes","category","priority","address","updatedComplaint","put","_error$response","_error$response$data","message","handleUpdateStatus","handleStatusUpdate","trim","charAt","toUpperCase","slice","location","distanceFromOriginal","updateData","resolvedAt","resolvedBy","resolvedByUserId","_error$response2","_error$response2$data","handleTwitterCrosspost","postToTwitter","coordinates","tweetText","twitterUrl","encodeURIComponent","twitterWindow","window","open","_navigator$clipboard","clipboard","writeText","catch","image","setTimeout","imageWindow","htmlContent","replace","document","write","close","focus","docError","handleViewLocation","title","handleFileUpload","e","file","target","files","size","reader","FileReader","onloadend","result","readAsDataURL","SafeImage","src","alt","className","onClick","onError","imageError","setImageError","imageSrc","setImageSrc","handleImageError","handleImageLoad","children","fileName","_jsxFileName","lineNumber","columnNumber","onLoad","style","display","renderActiveComplaintCards","complaintsToRender","length","fill","viewBox","stroke","strokeLinecap","strokeLinejoin","strokeWidth","d","index","createdAt","toLocaleDateString","id","renderSolvedComplaintCards","activeTabs","label","content","solvedTabs","value","onChange","rows","type","toLocaleString","newWindow","hasAfterPhoto","afterPhotoLength","includes","Object","keys","entries","key","completionLog","pop","placeholder","required","accept","disabled","authority","scrollWheelZoom","height","width","attribution","url","tabs","_c2","$RefreshReg$"],"sources":["C:/Users/Akshay/Desktop/Complaint Tracker/frontend/src/pages/Complaints.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport Navbar from '../components/Navbar';\nimport TabSwitcher from '../components/TabSwitcher';\nimport { MapContainer, TileLayer, Marker, Popup } from 'react-leaflet';\nimport 'leaflet/dist/leaflet.css';\nimport L from 'leaflet';\nimport { useMap } from 'react-leaflet';\nimport api from '../api';\n\n// Fix for default marker icon issue in react-leaflet\ndelete L.Icon.Default.prototype._getIconUrl;\nL.Icon.Default.mergeOptions({\n  iconRetinaUrl: 'https://unpkg.com/leaflet@1.7.1/dist/images/marker-icon-2x.png',\n  iconUrl: 'https://unpkg.com/leaflet@1.7.1/dist/images/marker-icon.png',\n  shadowUrl: 'https://unpkg.com/leaflet@1.7.1/dist/images/marker-shadow.png',\n});\n\n// Authority handles for Twitter crosspost\nconst AUTHORITY_HANDLES = [\n  { handle: '@mybmc', responsibility: 'Roads & Infrastructure' },\n  { handle: '@MumbaiPolice', responsibility: 'Law & Order' },\n  { handle: '@MESKAMumbai', responsibility: 'Electricity' },\n  { handle: '@mybmcwater', responsibility: 'Water Supply' },\n  { handle: '@TrafficMumbai', responsibility: 'Traffic Management' },\n  { handle: '@MumbaiFireBrig', responsibility: 'Fire Safety' },\n  { handle: '@SwachhMumbai', responsibility: 'Sanitation & Cleanliness' }\n];\n\n// Component to handle map view changes\nfunction MapView({ center, zoom }) {\n  const map = useMap();\n  \n  useEffect(() => {\n    map.setView(center, zoom);\n  }, [center, zoom, map]);\n  \n  return null;\n}\n\nfunction Complaints() {\n  const [activeMainTab, setActiveMainTab] = useState('active');\n  const [activeComplaints, setActiveComplaints] = useState([]);\n  const [solvedComplaints, setSolvedComplaints] = useState([]);\n  const [loading, setLoading] = useState(true);\n  const [showMap, setShowMap] = useState(false);\n  const [selectedLocation, setSelectedLocation] = useState(null);\n  const [mapCenter, setMapCenter] = useState([20.5937, 78.9629]);\n  const [mapZoom, setMapZoom] = useState(5);\n  \n  const [currentUser, setCurrentUser] = useState(null);\n  \n  const [showComplaintModal, setShowComplaintModal] = useState(false);\n  const [selectedComplaint, setSelectedComplaint] = useState(null);\n  const [editMode, setEditMode] = useState(false);\n  const [editedComplaint, setEditedComplaint] = useState({});\n  const [showUpdateModal, setShowUpdateModal] = useState(false);\n  const [showTwitterModal, setShowTwitterModal] = useState(false);\n  const [selectedAuthority, setSelectedAuthority] = useState('');\n  \n  const [updateForm, setUpdateForm] = useState({\n    status: 'pending',\n    description: '',\n    afterPhoto: null,\n    userLocation: null\n  });\n\n  const [locationStatus, setLocationStatus] = useState('Getting location...');\n  \n  useEffect(() => {\n    const user = JSON.parse(localStorage.getItem('user') || '{}');\n    setCurrentUser(user);\n    console.log('Current user loaded:', user);\n    \n    fetchComplaints();\n    getCurrentUserLocation();\n  }, []);\n\n  const getCurrentUserLocation = () => {\n    setLocationStatus('Getting location...');\n    if (navigator.geolocation) {\n      navigator.geolocation.getCurrentPosition(\n        (position) => {\n          const userLoc = {\n            lat: position.coords.latitude,\n            lng: position.coords.longitude\n          };\n          setUpdateForm(prev => ({\n            ...prev,\n            userLocation: userLoc\n          }));\n          setLocationStatus(`Location found: ${userLoc.lat.toFixed(4)}, ${userLoc.lng.toFixed(4)}`);\n          console.log('üìç User location obtained:', userLoc);\n        },\n        (error) => {\n          console.error('Error getting user location:', error);\n          setLocationStatus('Location access denied or unavailable');\n          \n          switch(error.code) {\n            case error.PERMISSION_DENIED:\n              setLocationStatus('Location permission denied. Please allow location access.');\n              break;\n            case error.POSITION_UNAVAILABLE:\n              setLocationStatus('Location information unavailable.');\n              break;\n            case error.TIMEOUT:\n              setLocationStatus('Location request timed out.');\n              break;\n            default:\n              setLocationStatus('Unknown location error.');\n          }\n        },\n        {\n          enableHighAccuracy: true,\n          timeout: 15000,\n          maximumAge: 60000\n        }\n      );\n    } else {\n      setLocationStatus('Geolocation not supported by this browser');\n    }\n  };\n\n  const fetchComplaints = async () => {\n    try {\n      console.log('üîç Fetching complaints...');\n      const response = await api.get('/api/complaints');\n      console.log('‚úÖ Complaints response:', response.data);\n      \n      const complaints = response.data.data || response.data;\n      \n      const active = complaints.filter(c => \n        c.status !== 'completed' && c.status !== 'resolved'\n      );\n      const solved = complaints.filter(c => \n        c.status === 'completed' || c.status === 'resolved'\n      );\n      \n      setActiveComplaints(active);\n      setSolvedComplaints(solved);\n      \n    } catch (error) {\n      console.error('‚ùå Error fetching complaints:', error);\n      const storedComplaints = JSON.parse(localStorage.getItem('complaints') || '[]');\n      const active = storedComplaints.filter(c => c.status !== 'completed');\n      const solved = storedComplaints.filter(c => c.status === 'completed');\n      \n      setActiveComplaints(active);\n      setSolvedComplaints(solved);\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const calculateDistance = (lat1, lon1, lat2, lon2) => {\n    const R = 6371;\n    const dLat = (lat2 - lat1) * Math.PI / 180;\n    const dLon = (lon2 - lon1) * Math.PI / 180;\n    const a = \n      Math.sin(dLat/2) * Math.sin(dLat/2) +\n      Math.cos(lat1 * Math.PI / 180) * Math.cos(lat2 * Math.PI / 180) *\n      Math.sin(dLon/2) * Math.sin(dLon/2);\n    const c = 2 * Math.atan2(Math.sqrt(a), Math.sqrt(1-a));\n    const distance = R * c;\n    \n    console.log(`üìè Distance calculated: ${distance.toFixed(3)} km`);\n    return distance;\n  };\n\n  const pendingComplaints = activeComplaints.filter(c => c.status === 'pending');\n  const partialComplaints = activeComplaints.filter(c => c.status === 'partial-completed');\n  const inProgressComplaints = activeComplaints.filter(c => c.status === 'in-progress');\n\n  const handleViewDetails = (complaint) => {\n    setSelectedComplaint(complaint);\n    setEditedComplaint({...complaint});\n    setShowComplaintModal(true);\n    setEditMode(false);\n  };\n\n  const handleEditComplaint = () => {\n    if (!currentUser || !currentUser._id) {\n      alert('Please log in to edit complaints');\n      return;\n    }\n    \n    if (currentUser._id !== selectedComplaint.createdBy && currentUser.username !== selectedComplaint.createdByUsername) {\n      alert('Only the original creator can edit this complaint');\n      return;\n    }\n    \n    setEditMode(true);\n  };\n\n  const handleSaveComplaint = async () => {\n    try {\n      const updateLog = [{\n        timestamp: new Date().toISOString(),\n        action: 'Complaint Edited',\n        user: currentUser?.username || currentUser?.email || 'Anonymous User',\n        userId: currentUser?._id,\n        description: 'Complaint details were updated by the original creator',\n        changes: {\n          category: editedComplaint.category,\n          priority: editedComplaint.priority,\n          description: editedComplaint.description,\n          address: editedComplaint.address\n        }\n      }];\n\n      const updatedComplaint = {\n        category: editedComplaint.category,\n        description: editedComplaint.description,\n        priority: editedComplaint.priority,\n        address: editedComplaint.address,\n        updateLog: updateLog\n      };\n\n      console.log('üíæ Saving complaint with proper user info:', updatedComplaint);\n\n      await api.put(`/api/complaints/${selectedComplaint._id}`, updatedComplaint);\n      \n      fetchComplaints();\n      setEditMode(false);\n      setShowComplaintModal(false);\n      alert('Complaint updated successfully!');\n    } catch (error) {\n      console.error('Error updating complaint:', error);\n      alert('Failed to update complaint: ' + (error.response?.data?.message || error.message));\n    }\n  };\n\n  const handleUpdateStatus = (complaint) => {\n    setSelectedComplaint(complaint);\n    setUpdateForm({\n      status: 'pending',\n      description: '',\n      afterPhoto: null,\n      userLocation: updateForm.userLocation\n    });\n    setShowUpdateModal(true);\n    \n    getCurrentUserLocation();\n  };\n\n  const handleStatusUpdate = async () => {\n    if (!updateForm.afterPhoto) {\n      alert('Please upload an after photo - it\\'s mandatory for status updates');\n      return;\n    }\n\n    if (!updateForm.description.trim()) {\n      alert('Please provide a description of the update');\n      return;\n    }\n\n    if (!updateForm.userLocation) {\n      alert('Unable to get your location. Please allow location access and try again.');\n      getCurrentUserLocation();\n      return;\n    }\n\n    if (!selectedComplaint.latitude || !selectedComplaint.longitude) {\n      alert('Original complaint location not available');\n      return;\n    }\n\n    const distance = calculateDistance(\n      updateForm.userLocation.lat,\n      updateForm.userLocation.lng,\n      selectedComplaint.latitude,\n      selectedComplaint.longitude\n    );\n\n    if (distance > 1) {\n      alert(`You are ${distance.toFixed(2)} km away from the complaint location. You must be within 1km to update status.`);\n      return;\n    }\n\n    try {\n      const updateLog = [{\n        timestamp: new Date().toISOString(),\n        action: `Status Updated to ${updateForm.status.charAt(0).toUpperCase() + updateForm.status.slice(1)}`,\n        user: currentUser?.username || currentUser?.email || 'Anonymous User',\n        userId: currentUser?._id,\n        description: updateForm.description,\n        afterPhoto: updateForm.afterPhoto,\n        location: updateForm.userLocation,\n        distanceFromOriginal: distance.toFixed(3) + ' km'\n      }];\n\n      const updateData = {\n        status: updateForm.status,\n        updateLog: updateLog\n      };\n\n      if (updateForm.status === 'completed') {\n        updateData.resolvedAt = new Date().toISOString();\n        updateData.resolvedBy = currentUser?.username || currentUser?.email || 'Anonymous User';\n        updateData.resolvedByUserId = currentUser?._id;\n      }\n\n      console.log('üîÑ Updating status with proper user info:', updateData);\n\n      await api.put(`/api/complaints/${selectedComplaint._id}`, updateData);\n      \n      fetchComplaints();\n      setShowUpdateModal(false);\n      alert(`Status updated successfully! Distance verified: ${distance.toFixed(2)} km`);\n    } catch (error) {\n      console.error('Error updating status:', error);\n      alert('Failed to update status: ' + (error.response?.data?.message || error.message));\n    }\n  };\n\n  const handleTwitterCrosspost = (complaint) => {\n    setSelectedComplaint(complaint);\n    setSelectedAuthority('');\n    setShowTwitterModal(true);\n  };\n\n  // FIXED: Safe Twitter function that handles null window.open()\n// FIXED: Enhanced Twitter function with reliable image display\nconst postToTwitter = () => {\n  try {\n    const coordinates = selectedComplaint.latitude && selectedComplaint.longitude \n      ? `üìç ${selectedComplaint.latitude.toFixed(4)}, ${selectedComplaint.longitude.toFixed(4)}`\n      : '';\n\n    const tweetText = `üö® COMPLAINT ALERT üö®\n\nCategory: ${selectedComplaint.category}\nPriority: ${selectedComplaint.priority}\nLocation: ${selectedComplaint.address}\n${coordinates}\n\nDescription: ${selectedComplaint.description}\n\n${selectedAuthority ? `${selectedAuthority}` : ''}\n\n#CitizenComplaint #Mumbai #FixIt`;\n\n    // First, always open Twitter\n    const twitterUrl = `https://twitter.com/intent/tweet?text=${encodeURIComponent(tweetText)}`;\n    const twitterWindow = window.open(twitterUrl, '_blank', 'noopener,noreferrer');\n    \n    if (!twitterWindow) {\n      alert(`Popup blocked! Please copy this link and open it manually:\\n\\n${twitterUrl}`);\n      navigator.clipboard?.writeText(twitterUrl).catch(() => console.log('Could not copy to clipboard'));\n    }\n\n    // FIXED: Enhanced image display method\n    if (selectedComplaint.image) {\n      // Show image immediately without waiting for Twitter\n      setTimeout(() => {\n        const imageWindow = window.open('', 'complaintImageForTwitter', 'width=700,height=600,scrollbars=yes');\n        \n        if (imageWindow) {\n          try {\n            const htmlContent = `\n              <!DOCTYPE html>\n              <html>\n                <head>\n                  <title>Complaint Image - Download for Twitter</title>\n                  <meta charset=\"UTF-8\">\n                  <style>\n                    body { \n                      font-family: 'Segoe UI', Arial, sans-serif; \n                      padding: 20px; \n                      margin: 0;\n                      background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);\n                      color: white;\n                      text-align: center;\n                    }\n                    .container {\n                      background: white;\n                      color: #333;\n                      border-radius: 15px;\n                      padding: 25px;\n                      max-width: 600px;\n                      margin: 0 auto;\n                      box-shadow: 0 10px 30px rgba(0,0,0,0.3);\n                    }\n                    .header {\n                      background: #1DA1F2;\n                      color: white;\n                      padding: 15px;\n                      border-radius: 10px;\n                      margin-bottom: 20px;\n                    }\n                    img { \n                      max-width: 100%; \n                      height: auto; \n                      border: 3px solid #1DA1F2; \n                      border-radius: 10px; \n                      box-shadow: 0 5px 15px rgba(0,0,0,0.2);\n                      margin: 15px 0;\n                    }\n                    .instructions { \n                      background: #f8f9fa; \n                      padding: 20px; \n                      margin: 20px 0; \n                      border-radius: 10px; \n                      text-align: left;\n                      border-left: 4px solid #1DA1F2;\n                    }\n                    .step {\n                      background: white;\n                      margin: 10px 0;\n                      padding: 12px;\n                      border-radius: 8px;\n                      border-left: 3px solid #28a745;\n                      box-shadow: 0 2px 5px rgba(0,0,0,0.1);\n                    }\n                    .buttons {\n                      margin-top: 20px;\n                    }\n                    button { \n                      background: #1DA1F2; \n                      color: white; \n                      padding: 12px 25px; \n                      border: none; \n                      border-radius: 25px; \n                      cursor: pointer; \n                      margin: 5px; \n                      font-size: 14px;\n                      font-weight: bold;\n                      transition: all 0.3s ease;\n                    }\n                    button:hover {\n                      background: #1991db;\n                      transform: translateY(-2px);\n                      box-shadow: 0 5px 15px rgba(29, 161, 242, 0.4);\n                    }\n                    .twitter-logo {\n                      color: #1DA1F2;\n                      font-size: 24px;\n                      margin-right: 8px;\n                    }\n                    .complaint-info {\n                      background: #e3f2fd;\n                      padding: 15px;\n                      border-radius: 8px;\n                      margin: 15px 0;\n                      text-align: left;\n                    }\n                    .complaint-info h4 {\n                      color: #1976d2;\n                      margin: 0 0 10px 0;\n                    }\n                  </style>\n                </head>\n                <body>\n                  <div class=\"container\">\n                    <div class=\"header\">\n                      <h2><span class=\"twitter-logo\">üê¶</span>Twitter Image Upload Helper</h2>\n                    </div>\n                    \n                    <div class=\"complaint-info\">\n                      <h4>üìã Complaint Details:</h4>\n                      <p><strong>Category:</strong> ${selectedComplaint.category}</p>\n                      <p><strong>Priority:</strong> ${selectedComplaint.priority}</p>\n                      <p><strong>Location:</strong> ${selectedComplaint.address}</p>\n                    </div>\n                    \n                    <h3>üì∏ Complaint Photo for Twitter Upload</h3>\n                    <img src=\"${selectedComplaint.image}\" alt=\"Complaint image\" id=\"complaintImage\" />\n                    \n                    <div class=\"instructions\">\n                      <h3 style=\"color: #1DA1F2; margin-top: 0;\">üìù How to Upload to Twitter:</h3>\n                      \n                      <div class=\"step\">\n                        <strong>Step 1:</strong> Right-click on the image above and select \"Save Image As...\" or \"Save Picture As...\"\n                      </div>\n                      \n                      <div class=\"step\">\n                        <strong>Step 2:</strong> Save the image to your device (Downloads folder recommended)\n                      </div>\n                      \n                      <div class=\"step\">\n                        <strong>Step 3:</strong> Go back to your Twitter tab (should be open already)\n                      </div>\n                      \n                      <div class=\"step\">\n                        <strong>Step 4:</strong> In the Twitter compose window, click the üì∑ photo/media button\n                      </div>\n                      \n                      <div class=\"step\">\n                        <strong>Step 5:</strong> Select and upload the saved image file\n                      </div>\n                      \n                      <div class=\"step\">\n                        <strong>Step 6:</strong> Complete and post your tweet!\n                      </div>\n                    </div>\n                    \n                    <div class=\"buttons\">\n                      <button onclick=\"downloadImage()\">üíæ Download Image</button>\n                      <button onclick=\"copyImageData()\">üìã Copy Image</button>\n                      <button onclick=\"window.print()\">üñ®Ô∏è Print Page</button>\n                      <button onclick=\"window.close()\" style=\"background: #dc3545;\">‚úñÔ∏è Close</button>\n                    </div>\n                    \n                    <p style=\"margin-top: 20px; font-size: 12px; color: #666;\">\n                      üí° <strong>Tip:</strong> Keep this window open while posting to Twitter for easy reference!\n                    </p>\n                  </div>\n                  \n                  <script>\n                    function downloadImage() {\n                      try {\n                        const img = document.getElementById('complaintImage');\n                        const canvas = document.createElement('canvas');\n                        const ctx = canvas.getContext('2d');\n                        \n                        canvas.width = img.naturalWidth;\n                        canvas.height = img.naturalHeight;\n                        ctx.drawImage(img, 0, 0);\n                        \n                        canvas.toBlob(function(blob) {\n                          const url = URL.createObjectURL(blob);\n                          const a = document.createElement('a');\n                          a.href = url;\n                          a.download = 'complaint-photo-${selectedComplaint.category.replace(/[^a-zA-Z0-9]/g, '-')}.jpg';\n                          document.body.appendChild(a);\n                          a.click();\n                          document.body.removeChild(a);\n                          URL.revokeObjectURL(url);\n                          \n                          alert('‚úÖ Image downloaded! Check your Downloads folder.');\n                        }, 'image/jpeg', 0.9);\n                      } catch (error) {\n                        alert('‚ùå Download failed. Please right-click and save the image manually.');\n                        console.error('Download error:', error);\n                      }\n                    }\n                    \n                    function copyImageData() {\n                      try {\n                        const img = document.getElementById('complaintImage');\n                        const canvas = document.createElement('canvas');\n                        const ctx = canvas.getContext('2d');\n                        \n                        canvas.width = img.naturalWidth;\n                        canvas.height = img.naturalHeight;\n                        ctx.drawImage(img, 0, 0);\n                        \n                        canvas.toBlob(async function(blob) {\n                          try {\n                            await navigator.clipboard.write([\n                              new ClipboardItem({ 'image/png': blob })\n                            ]);\n                            alert('‚úÖ Image copied to clipboard! You can paste it directly in Twitter.');\n                          } catch (err) {\n                            alert('‚ùå Could not copy to clipboard. Please save the image manually.');\n                          }\n                        });\n                      } catch (error) {\n                        alert('‚ùå Copy failed. Please right-click and save the image manually.');\n                        console.error('Copy error:', error);\n                      }\n                    }\n                    \n                    // Auto-focus and enhance image loading\n                    window.onload = function() {\n                      const img = document.getElementById('complaintImage');\n                      img.onload = function() {\n                        console.log('‚úÖ Image loaded successfully in Twitter helper window');\n                      };\n                      img.onerror = function() {\n                        console.error('‚ùå Image failed to load in Twitter helper window');\n                        this.style.display = 'none';\n                        this.parentNode.innerHTML += '<div style=\"padding: 20px; background: #ffebee; color: #c62828; border-radius: 8px;\">‚ùå Image could not be loaded. Please check the original complaint.</div>';\n                      };\n                    };\n                  </script>\n                </body>\n              </html>\n            `;\n            \n            imageWindow.document.open();\n            imageWindow.document.write(htmlContent);\n            imageWindow.document.close();\n            \n            // Focus the image window\n            imageWindow.focus();\n            \n            console.log('‚úÖ Twitter image helper window opened successfully');\n            \n          } catch (docError) {\n            console.error('‚ùå Error writing to image window:', docError);\n            alert('Could not display image helper. Please check your popup blocker settings.');\n          }\n        } else {\n          // Fallback if popup is blocked\n          alert(`üì∏ Twitter Image Available!\\n\\nThe complaint image is available for upload to Twitter.\\nPlease:\\n1. Allow popups for this site\\n2. Or manually save the image from the complaint details\\n3. Upload it to your Twitter post`);\n        }\n      }, 300); // Small delay to ensure Twitter window opens first\n    }\n\n    setShowTwitterModal(false);\n    \n    // Show success message\n    setTimeout(() => {\n      if (selectedComplaint.image) {\n        alert('üê¶ Twitter post opened!\\nüì∏ Image helper window also opened.\\n\\n‚úÖ Follow the instructions in the image window to upload the photo to your tweet.');\n      } else {\n        alert('üê¶ Twitter post opened successfully!\\n\\n‚ÑπÔ∏è No image available for this complaint.');\n      }\n    }, 500);\n\n  } catch (error) {\n    console.error('‚ùå Error in postToTwitter:', error);\n    alert('‚ùå Error posting to Twitter. Please try again or copy the text manually.');\n  }\n};\n\n\n  const handleViewLocation = (latitude, longitude, title) => {\n    setSelectedLocation({ lat: latitude, lng: longitude, title });\n    setMapCenter([latitude, longitude]);\n    setMapZoom(15);\n    setShowMap(true);\n  };\n\n  const handleFileUpload = (e) => {\n    const file = e.target.files[0];\n    if (file) {\n      if (file.size > 5 * 1024 * 1024) {\n        alert('Image size should be less than 5MB');\n        return;\n      }\n      \n      const reader = new FileReader();\n      reader.onloadend = () => {\n        console.log('üì∏ Image uploaded for status update:', reader.result ? 'SUCCESS' : 'FAILED');\n        setUpdateForm(prev => ({\n          ...prev,\n          afterPhoto: reader.result\n        }));\n      };\n      reader.readAsDataURL(file);\n    }\n  };\n\n  // Helper function to safely display images with error handling\n  const SafeImage = ({ src, alt, className, onClick, onError }) => {\n    const [imageError, setImageError] = useState(false);\n    const [imageSrc, setImageSrc] = useState(src);\n\n    const handleImageError = () => {\n      console.log('‚ùå Image failed to load:', src);\n      setImageError(true);\n      if (onError) onError();\n    };\n\n    const handleImageLoad = () => {\n      console.log('‚úÖ Image loaded successfully:', src);\n      setImageError(false);\n    };\n\n    if (imageError) {\n      return (\n        <div className={`${className} bg-gray-200 flex items-center justify-center text-gray-500 text-xs`}>\n          <span>‚ùå Image not available</span>\n        </div>\n      );\n    }\n\n    return (\n      <img\n        src={imageSrc}\n        alt={alt}\n        className={className}\n        onClick={onClick}\n        onLoad={handleImageLoad}\n        onError={handleImageError}\n        style={{ display: 'block' }}\n      />\n    );\n  };\n\n  if (loading) {\n    return (\n      <div className=\"min-h-screen bg-gray-100\">\n        <Navbar />\n        <main className=\"max-w-7xl mx-auto py-6 sm:px-6 lg:px-8\">\n          <div className=\"px-4 py-6 sm:px-0\">\n            <div className=\"text-center py-12\">\n              <div className=\"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600 mx-auto mb-4\"></div>\n              <p className=\"text-gray-500\">Loading complaints...</p>\n            </div>\n          </div>\n        </main>\n      </div>\n    );\n  }\n\n  const renderActiveComplaintCards = (complaintsToRender) => {\n    if (complaintsToRender.length === 0) {\n      return (\n        <div className=\"text-center py-12\">\n          <svg className=\"mx-auto h-12 w-12 text-gray-400\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\">\n            <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth=\"2\" d=\"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z\" />\n          </svg>\n          <h3 className=\"mt-2 text-sm font-medium text-gray-900\">No complaints</h3>\n          <p className=\"mt-1 text-sm text-gray-500\">There are no active complaints at this time.</p>\n        </div>\n      );\n    }\n\n    return (\n      <div className=\"grid grid-cols-1 gap-4 sm:grid-cols-2 lg:grid-cols-3 animate-fadeIn\">\n        {complaintsToRender.map((complaint, index) => (\n          <div key={complaint._id || complaint.id || index} className=\"bg-white overflow-hidden shadow rounded-lg hover-lift\">\n            <div className=\"px-4 py-5 sm:p-6\">\n              <div className=\"flex items-center justify-between\">\n                <h3 className=\"text-lg leading-6 font-medium text-gray-900 truncate\">\n                  {complaint.category || 'Complaint'}\n                </h3>\n                <span className={`px-2 inline-flex text-xs leading-5 font-semibold rounded-full ${\n                  complaint.priority === 'High' ? 'bg-red-100 text-red-800' : \n                  complaint.priority === 'Medium' ? 'bg-yellow-100 text-yellow-800' : \n                  'bg-green-100 text-green-800'\n                }`}>\n                  {complaint.priority || 'Medium'}\n                </span>\n              </div>\n              \n              <div className=\"mt-2 max-w-xl text-sm text-gray-500\">\n                <p className=\"line-clamp-2\">{complaint.description || 'No description provided'}</p>\n              </div>\n              \n              <div className=\"mt-3 flex items-center text-sm text-gray-500\">\n                <span className=\"truncate\">{complaint.category || 'General'}</span>\n                <span className=\"mx-1\">‚Ä¢</span>\n                <span className=\"truncate\">{complaint.address || 'Location not specified'}</span>\n              </div>\n\n              {complaint.latitude && complaint.longitude && (\n                <div className=\"mt-2 text-xs text-gray-400\">\n                  üìç {complaint.latitude.toFixed(4)}, {complaint.longitude.toFixed(4)}\n                </div>\n              )}\n              \n              <div className=\"mt-4 flex items-center justify-between\">\n                <div className=\"text-sm text-gray-500\">\n                  <span>Status: </span>\n                  <span className=\"font-medium text-gray-900 capitalize\">{complaint.status || 'Pending'}</span>\n                </div>\n                <div className=\"text-sm text-gray-500\">\n                  <span>Created: </span>\n                  <span>{new Date(complaint.createdAt).toLocaleDateString() || 'N/A'}</span>\n                </div>\n              </div>\n              \n              <div className=\"mt-2 text-xs text-gray-500\">\n                Created by: {complaint.createdByUsername || complaint.createdBy || 'Unknown User'}\n              </div>\n              \n              {complaint.image && (\n                <div className=\"mt-3\">\n                  <SafeImage\n                    src={complaint.image}\n                    alt=\"Complaint\"\n                    className=\"h-32 w-full object-cover rounded-md\"\n                  />\n                </div>\n              )}\n              \n              <div className=\"mt-4 flex flex-wrap gap-2\">\n                <button \n                  onClick={() => handleViewDetails(complaint)}\n                  className=\"inline-flex items-center px-2.5 py-1.5 border border-transparent text-xs font-medium rounded text-indigo-700 bg-indigo-100 hover:bg-indigo-200\"\n                >\n                  üìù View Details\n                </button>\n                <button \n                  onClick={() => handleUpdateStatus(complaint)}\n                  className=\"inline-flex items-center px-2.5 py-1.5 border border-transparent text-xs font-medium rounded text-green-700 bg-green-100 hover:bg-green-200\"\n                >\n                  üîÑ Update Status\n                </button>\n                <button \n                  onClick={() => handleTwitterCrosspost(complaint)}\n                  className=\"inline-flex items-center px-2.5 py-1.5 border border-transparent text-xs font-medium rounded text-blue-700 bg-blue-100 hover:bg-blue-200\"\n                >\n                  üê¶ Post to X\n                </button>\n                {complaint.latitude && complaint.longitude && (\n                  <button \n                    onClick={() => handleViewLocation(complaint.latitude, complaint.longitude, complaint.category)}\n                    className=\"inline-flex items-center px-2.5 py-1.5 border border-transparent text-xs font-medium rounded text-purple-700 bg-purple-100 hover:bg-purple-200\"\n                  >\n                    üìç View Location\n                  </button>\n                )}\n              </div>\n            </div>\n          </div>\n        ))}\n      </div>\n    );\n  };\n\n  const renderSolvedComplaintCards = (complaintsToRender) => {\n    if (complaintsToRender.length === 0) {\n      return (\n        <div className=\"text-center py-12\">\n          <h3 className=\"mt-2 text-sm font-medium text-gray-900\">No solved complaints</h3>\n          <p className=\"mt-1 text-sm text-gray-500\">There are no completed complaints at this time.</p>\n        </div>\n      );\n    }\n\n    return (\n      <div className=\"grid grid-cols-1 gap-4 sm:grid-cols-2 lg:grid-cols-3 animate-fadeIn\">\n        {complaintsToRender.map((complaint, index) => (\n          <div key={complaint._id || complaint.id || index} className=\"bg-white overflow-hidden shadow rounded-lg hover-lift\">\n            <div className=\"px-4 py-5 sm:p-6\">\n              <div className=\"flex items-center justify-between\">\n                <h3 className=\"text-lg leading-6 font-medium text-gray-900 truncate\">\n                  {complaint.category || 'Complaint'}\n                </h3>\n                <span className=\"px-2 inline-flex text-xs leading-5 font-semibold rounded-full bg-green-100 text-green-800\">\n                  Completed ‚úÖ\n                </span>\n              </div>\n              \n              <div className=\"mt-2 max-w-xl text-sm text-gray-500\">\n                <p className=\"line-clamp-2\">{complaint.description || 'No description provided'}</p>\n              </div>\n\n              {complaint.latitude && complaint.longitude && (\n                <div className=\"mt-2 text-xs text-gray-400\">\n                  üìç {complaint.latitude.toFixed(4)}, {complaint.longitude.toFixed(4)}\n                </div>\n              )}\n\n              <div className=\"mt-3 text-xs text-gray-500\">\n                <div>Created by: {complaint.createdByUsername || 'Unknown User'}</div>\n                <div>Completed by: {complaint.resolvedBy || 'Unknown User'}</div>\n                <div>Completed on: {complaint.resolvedAt ? new Date(complaint.resolvedAt).toLocaleDateString() : 'N/A'}</div>\n              </div>\n              \n              <div className=\"mt-4 flex flex-wrap gap-2\">\n                <button \n                  onClick={() => handleViewDetails(complaint)}\n                  className=\"inline-flex items-center px-2.5 py-1.5 border border-transparent text-xs font-medium rounded text-indigo-700 bg-indigo-100 hover:bg-indigo-200\"\n                >\n                  üìù View Details\n                </button>\n              </div>\n            </div>\n          </div>\n        ))}\n      </div>\n    );\n  };\n\n  const activeTabs = [\n    {\n      label: `All (${activeComplaints.length})`,\n      content: renderActiveComplaintCards(activeComplaints)\n    },\n    {\n      label: `Pending (${pendingComplaints.length})`,\n      content: renderActiveComplaintCards(pendingComplaints)\n    },\n    {\n      label: `In Progress (${inProgressComplaints.length})`,\n      content: renderActiveComplaintCards(inProgressComplaints)\n    }\n  ];\n  \n  const solvedTabs = [\n    {\n      label: `All (${solvedComplaints.length})`,\n      content: renderSolvedComplaintCards(solvedComplaints)\n    }\n  ];\n\n  return (\n    <div className=\"min-h-screen bg-gray-100\">\n      <Navbar />\n      \n      <main className=\"max-w-7xl mx-auto py-6 sm:px-6 lg:px-8\">\n        <div className=\"px-4 py-6 sm:px-0\">\n          \n          {/* FIXED: Complaint Details Modal with Working After Photo Display */}\n          {showComplaintModal && selectedComplaint && (\n            <div className=\"fixed inset-0 bg-black bg-opacity-75 flex items-center justify-center z-50 p-4\">\n              <div className=\"bg-white rounded-lg max-w-5xl w-full max-h-[95vh] overflow-y-auto\">\n                <div className=\"p-6\">\n                  <div className=\"flex justify-between items-center mb-6\">\n                    <h2 className=\"text-2xl font-bold text-gray-900\">\n                      {editMode ? 'Edit Complaint' : 'Complaint Details'}\n                    </h2>\n                    <div className=\"flex gap-2\">\n                      {!editMode && currentUser && (\n                        currentUser._id === selectedComplaint.createdBy || \n                        currentUser.username === selectedComplaint.createdByUsername\n                      ) && (\n                        <button\n                          onClick={handleEditComplaint}\n                          className=\"px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700\"\n                        >\n                          ‚úèÔ∏è Edit\n                        </button>\n                      )}\n                      <button\n                        onClick={() => setShowComplaintModal(false)}\n                        className=\"text-gray-500 hover:text-gray-700\"\n                      >\n                        <svg className=\"h-6 w-6\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\">\n                          <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M6 18L18 6M6 6l12 12\" />\n                        </svg>\n                      </button>\n                    </div>\n                  </div>\n\n                  {!editMode && (\n                    <div className=\"mb-4 p-3 bg-yellow-50 border border-yellow-200 rounded-md\">\n                      <p className=\"text-sm text-yellow-700\">\n                        üí° Only the original creator ({selectedComplaint.createdByUsername || 'Unknown User'}) can edit this complaint. Others can update status only.\n                      </p>\n                    </div>\n                  )}\n\n                  {/* Complaint Information */}\n                  <div className=\"grid grid-cols-1 md:grid-cols-2 gap-6\">\n                    <div>\n                      <label className=\"block text-sm font-medium text-gray-700 mb-1\">Category</label>\n                      {editMode ? (\n                        <select\n                          value={editedComplaint.category}\n                          onChange={(e) => setEditedComplaint(prev => ({...prev, category: e.target.value}))}\n                          className=\"w-full border rounded-md p-2\"\n                        >\n                          <option value=\"Garbage\">Garbage</option>\n                          <option value=\"Water Leakage\">Water Leakage</option>\n                          <option value=\"Pothole\">Pothole</option>\n                          <option value=\"Electricity Issue\">Electricity Issue</option>\n                          <option value=\"Street Light\">Street Light</option>\n                          <option value=\"Sewage\">Sewage</option>\n                          <option value=\"Other\">Other</option>\n                        </select>\n                      ) : (\n                        <p className=\"text-gray-900\">{selectedComplaint.category}</p>\n                      )}\n                    </div>\n\n                    <div>\n                      <label className=\"block text-sm font-medium text-gray-700 mb-1\">Priority</label>\n                      {editMode ? (\n                        <select\n                          value={editedComplaint.priority}\n                          onChange={(e) => setEditedComplaint(prev => ({...prev, priority: e.target.value}))}\n                          className=\"w-full border rounded-md p-2\"\n                        >\n                          <option value=\"Low\">Low</option>\n                          <option value=\"Medium\">Medium</option>\n                          <option value=\"High\">High</option>\n                        </select>\n                      ) : (\n                        <span className={`px-3 py-1 text-sm rounded-full ${\n                          selectedComplaint.priority === 'High' ? 'bg-red-100 text-red-800' : \n                          selectedComplaint.priority === 'Medium' ? 'bg-yellow-100 text-yellow-800' : \n                          'bg-green-100 text-green-800'\n                        }`}>\n                          {selectedComplaint.priority}\n                        </span>\n                      )}\n                    </div>\n\n                    <div className=\"md:col-span-2\">\n                      <label className=\"block text-sm font-medium text-gray-700 mb-1\">Description</label>\n                      {editMode ? (\n                        <textarea\n                          value={editedComplaint.description}\n                          onChange={(e) => setEditedComplaint(prev => ({...prev, description: e.target.value}))}\n                          rows={4}\n                          className=\"w-full border rounded-md p-2\"\n                        />\n                      ) : (\n                        <p className=\"text-gray-900\">{selectedComplaint.description}</p>\n                      )}\n                    </div>\n\n                    <div className=\"md:col-span-2\">\n                      <label className=\"block text-sm font-medium text-gray-700 mb-1\">Address</label>\n                      {editMode ? (\n                        <input\n                          type=\"text\"\n                          value={editedComplaint.address}\n                          onChange={(e) => setEditedComplaint(prev => ({...prev, address: e.target.value}))}\n                          className=\"w-full border rounded-md p-2\"\n                        />\n                      ) : (\n                        <p className=\"text-gray-900\">{selectedComplaint.address}</p>\n                      )}\n                    </div>\n\n                    <div>\n                      <label className=\"block text-sm font-medium text-gray-700 mb-1\">Latitude</label>\n                      <p className=\"text-gray-600 bg-gray-50 p-2 rounded\">\n                        {selectedComplaint.latitude ? selectedComplaint.latitude.toFixed(6) : 'Not available'}\n                      </p>\n                    </div>\n\n                    <div>\n                      <label className=\"block text-sm font-medium text-gray-700 mb-1\">Longitude</label>\n                      <p className=\"text-gray-600 bg-gray-50 p-2 rounded\">\n                        {selectedComplaint.longitude ? selectedComplaint.longitude.toFixed(6) : 'Not available'}\n                      </p>\n                    </div>\n                  </div>\n\n                  {selectedComplaint.image && (\n                    <div className=\"mt-6\">\n                      <label className=\"block text-sm font-medium text-gray-700 mb-2\">Original Photo</label>\n                      <SafeImage\n                        src={selectedComplaint.image}\n                        alt=\"Original complaint\"\n                        className=\"max-h-64 rounded-md shadow-sm border\"\n                      />\n                    </div>\n                  )}\n\n                  {/* FIXED: Activity Log with Working After Photos */}\n                  <div className=\"mt-6\">\n                    <h3 className=\"text-lg font-medium text-gray-900 mb-3\">üìã Activity Log</h3>\n                    <div className=\"bg-gray-50 rounded-md p-4 max-h-80 overflow-y-auto\">\n                      {/* Initial creation entry */}\n                      <div className=\"border-l-4 border-blue-500 pl-4 pb-4 mb-4\">\n                        <div className=\"flex justify-between items-start\">\n                          <div className=\"flex-1\">\n                            <p className=\"font-medium text-gray-900 flex items-center\">\n                              üéØ Complaint Created\n                            </p>\n                            <p className=\"text-sm text-gray-600 mt-1\">\n                              Created by <span className=\"font-medium text-blue-600\">\n                                {selectedComplaint.createdByUsername || selectedComplaint.createdBy || 'Unknown User'}\n                              </span>\n                            </p>\n                            <p className=\"text-xs text-gray-500\">\n                              {new Date(selectedComplaint.createdAt).toLocaleString()}\n                            </p>\n                          </div>\n                        </div>\n                        {selectedComplaint.image && (\n                          <div className=\"mt-2\">\n                            <p className=\"text-xs text-gray-600 mb-1 font-medium\">Original Photo:</p>\n                            <SafeImage\n                              src={selectedComplaint.image}\n                              alt=\"Original complaint\"\n                              className=\"max-h-20 rounded-md shadow-sm border cursor-pointer hover:shadow-lg transition-shadow\"\n                              onClick={() => {\n                                const newWindow = window.open('', '_blank', 'width=800,height=600');\n                                if (newWindow) {\n                                  newWindow.document.write(`\n                                    <html>\n                                      <head><title>Original Complaint Photo</title></head>\n                                      <body style=\"margin:0; display:flex; justify-content:center; align-items:center; min-height:100vh; background:#000;\">\n                                        <img src=\"${selectedComplaint.image}\" style=\"max-width:100%; max-height:100vh; object-fit:contain;\" alt=\"Original complaint\" />\n                                      </body>\n                                    </html>\n                                  `);\n                                }\n                              }}\n                            />\n                          </div>\n                        )}\n                      </div>\n\n                      {/* FIXED: Update log entries with working after photos */}\n                      {(selectedComplaint.updateLog || []).map((log, index) => {\n                        console.log(`üìä Rendering log entry ${index}:`, {\n                          action: log.action,\n                          user: log.user,\n                          hasAfterPhoto: !!log.afterPhoto,\n                          afterPhotoLength: log.afterPhoto ? log.afterPhoto.length : 0\n                        });\n                        \n                        return (\n                          <div key={index} className={`border-l-4 pl-4 pb-4 mb-4 last:mb-0 ${\n                            log.action.includes('Edit') ? 'border-yellow-500' : \n                            log.action.includes('Completed') || log.action.includes('completed') ? 'border-green-500' : \n                            'border-blue-500'\n                          }`}>\n                            <div className=\"flex justify-between items-start\">\n                              <div className=\"flex-1\">\n                                <p className=\"font-medium text-gray-900 flex items-center\">\n                                  {log.action.includes('Edit') ? '‚úèÔ∏è' : \n                                   log.action.includes('Completed') || log.action.includes('completed') ? '‚úÖ' : 'üîÑ'} {log.action}\n                                </p>\n                                <p className=\"text-sm text-gray-600 mt-1\">\n                                  Updated by <span className=\"font-medium text-blue-600\">{log.user || 'Unknown User'}</span>\n                                  {log.distanceFromOriginal && (\n                                    <span className=\"text-green-600 ml-2\">üìç {log.distanceFromOriginal} from location</span>\n                                  )}\n                                </p>\n                                <p className=\"text-xs text-gray-500\">\n                                  {new Date(log.timestamp).toLocaleString()}\n                                </p>\n                                {log.description && (\n                                  <div className=\"mt-2 bg-white p-3 rounded border-l-2 border-gray-300\">\n                                    <p className=\"text-xs text-gray-600 font-medium mb-1\">Update Description:</p>\n                                    <p className=\"text-sm text-gray-700\">{log.description}</p>\n                                  </div>\n                                )}\n                                {log.changes && Object.keys(log.changes).length > 0 && (\n                                  <div className=\"mt-2 bg-yellow-50 p-2 rounded border-l-2 border-yellow-400\">\n                                    <p className=\"text-xs text-yellow-700 font-medium\">Changes Made:</p>\n                                    {Object.entries(log.changes).map(([key, value]) => (\n                                      <p key={key} className=\"text-xs text-yellow-800\">\n                                        <strong>{key}:</strong> {value}\n                                      </p>\n                                    ))}\n                                  </div>\n                                )}\n                              </div>\n                            </div>\n                            \n                            {/* FIXED: After Photo Display - This should now work! */}\n                            {log.afterPhoto && (\n                              <div className=\"mt-3 bg-white p-3 rounded border-2 border-gray-200\">\n                                <p className=\"text-xs text-gray-600 mb-2 font-medium\">üì∏ After Photo:</p>\n                                <SafeImage\n                                  src={log.afterPhoto}\n                                  alt={`After photo - ${log.action}`}\n                                  className=\"max-h-40 w-auto rounded-md shadow-sm border cursor-pointer hover:shadow-lg transition-shadow\"\n                                  onClick={() => {\n                                    const newWindow = window.open('', '_blank', 'width=900,height=700');\n                                    if (newWindow) {\n                                      newWindow.document.write(`\n                                        <html>\n                                          <head><title>After Photo - ${log.action}</title></head>\n                                          <body style=\"margin:0; display:flex; flex-direction:column; justify-content:center; align-items:center; min-height:100vh; background:#000; color:white; font-family:Arial; padding:20px;\">\n                                            <h3 style=\"margin-bottom:20px; text-align:center;\">${log.action} - ${log.user}</h3>\n                                            <img src=\"${log.afterPhoto}\" style=\"max-width:90%; max-height:70vh; object-fit:contain; border:2px solid #fff;\" alt=\"After photo\" />\n                                            <div style=\"margin-top:20px; text-align:center; max-width:600px;\">\n                                              <p style=\"margin:10px 0;\"><strong>Description:</strong> ${log.description || 'No description provided'}</p>\n                                              <p style=\"margin:10px 0;\"><strong>Date:</strong> ${new Date(log.timestamp).toLocaleString()}</p>\n                                              ${log.distanceFromOriginal ? `<p style=\"margin:10px 0;\"><strong>Distance:</strong> ${log.distanceFromOriginal} from original location</p>` : ''}\n                                            </div>\n                                          </body>\n                                        </html>\n                                      `);\n                                    }\n                                  }}\n                                />\n                                <p className=\"text-xs text-gray-500 mt-1\">üì± Click to view full size</p>\n                              </div>\n                            )}\n                          </div>\n                        );\n                      })}\n\n                      {/* Show completion info if resolved */}\n                      {selectedComplaint.resolvedAt && (\n                        <div className=\"border-l-4 border-green-500 pl-4 pb-4 bg-green-50 rounded-r\">\n                          <div className=\"flex justify-between items-start\">\n                            <div className=\"flex-1\">\n                              <p className=\"font-medium text-green-900 flex items-center\">\n                                üéâ Complaint Completed\n                              </p>\n                              <p className=\"text-sm text-green-700 mt-1\">\n                                Completed by <span className=\"font-medium\">{selectedComplaint.resolvedBy || 'Unknown User'}</span>\n                              </p>\n                              <p className=\"text-xs text-green-600\">\n                                {new Date(selectedComplaint.resolvedAt).toLocaleString()}\n                              </p>\n                            </div>\n                          </div>\n                          \n                          {/* Show completion photo if available */}\n                          {(() => {\n                            const completionLog = (selectedComplaint.updateLog || [])\n                              .filter(log => (log.action.includes('completed') || log.action.includes('Completed')) && log.afterPhoto)\n                              .pop();\n                            \n                            return completionLog && completionLog.afterPhoto && (\n                              <div className=\"mt-3 bg-white p-2 rounded border\">\n                                <p className=\"text-xs text-green-700 mb-2 font-medium\">‚úÖ Completion Photo:</p>\n                                <SafeImage\n                                  src={completionLog.afterPhoto}\n                                  alt=\"Completion photo\"\n                                  className=\"max-h-32 rounded-md shadow-sm border cursor-pointer hover:shadow-lg transition-shadow\"\n                                  onClick={() => {\n                                    const newWindow = window.open('', '_blank', 'width=800,height=600');\n                                    if (newWindow) {\n                                      newWindow.document.write(`\n                                        <html>\n                                          <head><title>Completion Photo</title></head>\n                                          <body style=\"margin:0; display:flex; flex-direction:column; justify-content:center; align-items:center; min-height:100vh; background:#000; color:white; font-family:Arial;\">\n                                            <h3 style=\"margin-bottom:20px; color:#4ade80;\">‚úÖ Complaint Completed</h3>\n                                            <img src=\"${completionLog.afterPhoto}\" style=\"max-width:90%; max-height:80vh; object-fit:contain; border:2px solid #4ade80;\" alt=\"Completion photo\" />\n                                            <p style=\"margin-top:20px; text-align:center; max-width:600px;\">${completionLog.description}</p>\n                                          </body>\n                                        </html>\n                                      `);\n                                    }\n                                  }}\n                                />\n                                <p className=\"text-xs text-green-600 mt-1\">üì± Click to view full size</p>\n                              </div>\n                            );\n                          })()}\n                        </div>\n                      )}\n                    </div>\n                  </div>\n\n                  <div className=\"mt-6 flex justify-end gap-3\">\n                    {editMode ? (\n                      <>\n                        <button\n                          onClick={() => setEditMode(false)}\n                          className=\"px-4 py-2 border border-gray-300 rounded-md text-gray-700 hover:bg-gray-50\"\n                        >\n                          Cancel\n                        </button>\n                        <button\n                          onClick={handleSaveComplaint}\n                          className=\"px-4 py-2 bg-green-600 text-white rounded-md hover:bg-green-700\"\n                        >\n                          üíæ Save Changes\n                        </button>\n                      </>\n                    ) : (\n                      <button\n                        onClick={() => setShowComplaintModal(false)}\n                        className=\"px-4 py-2 bg-gray-600 text-white rounded-md hover:bg-gray-700\"\n                      >\n                        Close\n                      </button>\n                    )}\n                  </div>\n                </div>\n              </div>\n            </div>\n          )}\n\n          {/* Update Status Modal */}\n          {showUpdateModal && (\n            <div className=\"fixed inset-0 bg-black bg-opacity-75 flex items-center justify-center z-50 p-4\">\n              <div className=\"bg-white rounded-lg max-w-2xl w-full\">\n                <div className=\"p-6\">\n                  <div className=\"flex justify-between items-center mb-6\">\n                    <h2 className=\"text-xl font-bold text-gray-900\">Update Complaint Status</h2>\n                    <button\n                      onClick={() => setShowUpdateModal(false)}\n                      className=\"text-gray-500 hover:text-gray-700\"\n                    >\n                      <svg className=\"h-6 w-6\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\">\n                        <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M6 18L18 6M6 6l12 12\" />\n                      </svg>\n                    </button>\n                  </div>\n\n                  <div className=\"space-y-4\">\n                    <div>\n                      <label className=\"block text-sm font-medium text-gray-700 mb-1\">Status</label>\n                      <select\n                        value={updateForm.status}\n                        onChange={(e) => setUpdateForm(prev => ({...prev, status: e.target.value}))}\n                        className=\"w-full border rounded-md p-2\"\n                      >\n                        <option value=\"pending\">Pending</option>\n                        <option value=\"partial-completed\">Partial Completed</option>\n                        <option value=\"completed\">Completed</option>\n                      </select>\n                    </div>\n\n                    <div>\n                      <label className=\"block text-sm font-medium text-gray-700 mb-1\">Update Description *</label>\n                      <textarea\n                        value={updateForm.description}\n                        onChange={(e) => setUpdateForm(prev => ({...prev, description: e.target.value}))}\n                        rows={3}\n                        className=\"w-full border rounded-md p-2\"\n                        placeholder=\"Describe the changes made or current status...\"\n                        required\n                      />\n                    </div>\n\n                    <div>\n                      <label className=\"block text-sm font-medium text-gray-700 mb-1\">After Photo *</label>\n                      <input\n                        type=\"file\"\n                        accept=\"image/*\"\n                        onChange={handleFileUpload}\n                        className=\"w-full border rounded-md p-2\"\n                        required\n                      />\n                      {updateForm.afterPhoto && (\n                        <div className=\"mt-2\">\n                          <SafeImage\n                            src={updateForm.afterPhoto}\n                            alt=\"After photo preview\"\n                            className=\"h-32 w-32 object-cover rounded-md border shadow-sm\"\n                          />\n                          <p className=\"text-xs text-gray-500 mt-1\">Preview of after photo</p>\n                        </div>\n                      )}\n                    </div>\n\n                    <div className=\"bg-blue-50 p-3 rounded-md\">\n                      <p className=\"text-sm text-blue-700\">\n                        üìç Location verification status: {locationStatus}\n                      </p>\n                      {updateForm.userLocation && selectedComplaint.latitude && selectedComplaint.longitude && (\n                        <p className=\"text-sm text-green-700 mt-1\">\n                          ‚úÖ Distance: {calculateDistance(\n                            updateForm.userLocation.lat,\n                            updateForm.userLocation.lng,\n                            selectedComplaint.latitude,\n                            selectedComplaint.longitude\n                          ).toFixed(3)} km from complaint location\n                        </p>\n                      )}\n                      <button\n                        onClick={getCurrentUserLocation}\n                        className=\"mt-2 text-sm text-blue-600 hover:text-blue-800 underline\"\n                      >\n                        üîÑ Refresh Location\n                      </button>\n                    </div>\n\n                    <div className=\"bg-gray-50 p-3 rounded-md\">\n                      <p className=\"text-sm text-gray-700\">\n                        üë§ Updating as: <span className=\"font-medium\">{currentUser?.username || currentUser?.email || 'Unknown User'}</span>\n                      </p>\n                    </div>\n                  </div>\n\n                  <div className=\"mt-6 flex justify-end gap-3\">\n                    <button\n                      onClick={() => setShowUpdateModal(false)}\n                      className=\"px-4 py-2 border border-gray-300 rounded-md text-gray-700 hover:bg-gray-50\"\n                    >\n                      Cancel\n                    </button>\n                    <button\n                      onClick={handleStatusUpdate}\n                      disabled={!updateForm.userLocation}\n                      className=\"px-4 py-2 bg-green-600 text-white rounded-md hover:bg-green-700 disabled:opacity-50 disabled:cursor-not-allowed\"\n                    >\n                      üîÑ Update Status\n                    </button>\n                  </div>\n                </div>\n              </div>\n            </div>\n          )}\n\n          {/* Twitter Modal */}\n          {showTwitterModal && (\n            <div className=\"fixed inset-0 bg-black bg-opacity-75 flex items-center justify-center z-50 p-4\">\n              <div className=\"bg-white rounded-lg max-w-2xl w-full\">\n                <div className=\"p-6\">\n                  <div className=\"flex justify-between items-center mb-6\">\n                    <h2 className=\"text-xl font-bold text-gray-900\">üê¶ Post to X (Twitter)</h2>\n                    <button\n                      onClick={() => setShowTwitterModal(false)}\n                      className=\"text-gray-500 hover:text-gray-700\"\n                    >\n                      <svg className=\"h-6 w-6\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\">\n                        <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M6 18L18 6M6 6l12 12\" />\n                      </svg>\n                    </button>\n                  </div>\n\n                  <div className=\"space-y-4\">\n                    <div>\n                      <label className=\"block text-sm font-medium text-gray-700 mb-1\">Select Authority to Tag</label>\n                      <select\n                        value={selectedAuthority}\n                        onChange={(e) => setSelectedAuthority(e.target.value)}\n                        className=\"w-full border rounded-md p-2\"\n                      >\n                        <option value=\"\">Select an authority...</option>\n                        {AUTHORITY_HANDLES.map((authority, index) => (\n                          <option key={index} value={authority.handle}>\n                            {authority.handle} - {authority.responsibility}\n                          </option>\n                        ))}\n                      </select>\n                    </div>\n\n                    <div>\n                      <label className=\"block text-sm font-medium text-gray-700 mb-1\">Tweet Preview</label>\n                      <div className=\"border rounded-md p-3 bg-gray-50 text-sm\">\n                        üö® COMPLAINT ALERT üö®<br/><br/>\n                        Category: {selectedComplaint?.category}<br/>\n                        Priority: {selectedComplaint?.priority}<br/>\n                        Location: {selectedComplaint?.address}<br/>\n                        {selectedComplaint?.latitude && selectedComplaint?.longitude && (\n                          <>üìç {selectedComplaint.latitude.toFixed(4)}, {selectedComplaint.longitude.toFixed(4)}<br/></>\n                        )}\n                        <br/>\n                        Description: {selectedComplaint?.description}<br/><br/>\n                        {selectedAuthority && <span className=\"text-blue-600\">{selectedAuthority}</span>}<br/><br/>\n                        #CitizenComplaint #Mumbai #FixIt\n                      </div>\n                    </div>\n                  </div>\n\n                  <div className=\"mt-6 flex justify-end gap-3\">\n                    <button\n                      onClick={() => setShowTwitterModal(false)}\n                      className=\"px-4 py-2 border border-gray-300 rounded-md text-gray-700 hover:bg-gray-50\"\n                    >\n                      Cancel\n                    </button>\n                    <button\n                      onClick={postToTwitter}\n                      className=\"px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700\"\n                    >\n                      üê¶ Post to X\n                    </button>\n                  </div>\n                </div>\n              </div>\n            </div>\n          )}\n\n          {/* Map Modal */}\n          {showMap && (\n            <div className=\"fixed inset-0 bg-black bg-opacity-75 flex items-center justify-center z-50 p-4\">\n              <div className=\"bg-white rounded-lg max-w-4xl w-full\">\n                <div className=\"p-4\">\n                  <div className=\"flex justify-between items-center mb-4\">\n                    <h3 className=\"text-lg font-medium\">\n                      {selectedLocation ? `Location: ${selectedLocation.title}` : 'Complaint Location'}\n                    </h3>\n                    <button\n                      onClick={() => setShowMap(false)}\n                      className=\"text-gray-500 hover:text-gray-700\"\n                    >\n                      <svg className=\"h-6 w-6\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\">\n                        <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M6 18L18 6M6 6l12 12\" />\n                      </svg>\n                    </button>\n                  </div>\n\n                  <div className=\"h-96 rounded-lg overflow-hidden\">\n                    <MapContainer\n                      center={mapCenter}\n                      zoom={mapZoom}\n                      scrollWheelZoom={true}\n                      style={{ height: '100%', width: '100%' }}\n                    >\n                      <MapView center={mapCenter} zoom={mapZoom} />\n                      <TileLayer\n                        attribution='&copy; <a href=\"https://www.openstreetmap.org/copyright\">OpenStreetMap</a> contributors'\n                        url=\"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png\"\n                      />\n                      {selectedLocation && (\n                        <Marker position={[selectedLocation.lat, selectedLocation.lng]}>\n                          <Popup>\n                            <div>\n                              <h3 className=\"font-bold\">{selectedLocation.title}</h3>\n                            </div>\n                          </Popup>\n                        </Marker>\n                      )}\n                    </MapContainer>\n                  </div>\n                </div>\n              </div>\n            </div>\n          )}\n\n          <div className=\"flex flex-col md:flex-row md:items-center md:justify-between mb-6\">\n            <div>\n              <h1 className=\"text-2xl font-bold text-gray-900\">Complaints Dashboard</h1>\n              <p className=\"mt-1 text-sm text-gray-500\">\n                Total: {activeComplaints.length + solvedComplaints.length} complaints\n                {currentUser && (\n                  <span className=\"ml-2 text-blue-600\">‚Ä¢ Logged in as: {currentUser.username || currentUser.email}</span>\n                )}\n              </p>\n            </div>\n            <div className=\"mt-4 md:mt-0 flex space-x-3\">\n              <button\n                onClick={fetchComplaints}\n                className=\"inline-flex items-center px-4 py-2 border border-gray-300 text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50\"\n              >\n                üîÑ Refresh\n              </button>\n            </div>\n          </div>\n\n          <div className=\"mb-6\">\n            <div className=\"border-b border-gray-200\">\n              <nav className=\"-mb-px flex space-x-8\">\n                <button\n                  onClick={() => setActiveMainTab('active')}\n                  className={`${\n                    activeMainTab === 'active'\n                      ? 'border-blue-500 text-blue-600'\n                      : 'border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300'\n                  } whitespace-nowrap py-4 px-1 border-b-2 font-medium text-sm`}\n                >\n                  Active Complaints ({activeComplaints.length})\n                </button>\n                <button\n                  onClick={() => setActiveMainTab('completed')}\n                  className={`${\n                    activeMainTab === 'completed'\n                      ? 'border-blue-500 text-blue-600'\n                      : 'border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300'\n                  } whitespace-nowrap py-4 px-1 border-b-2 font-medium text-sm`}\n                >\n                  Completed Complaints ({solvedComplaints.length})\n                </button>\n              </nav>\n            </div>\n          </div>\n\n          <div className=\"bg-white shadow overflow-hidden sm:rounded-lg\">\n            {activeMainTab === 'active' ? (\n              <TabSwitcher tabs={activeTabs} />\n            ) : (\n              <TabSwitcher tabs={solvedTabs} />\n            )}\n          </div>\n        </div>\n      </main>\n    </div>\n  );\n}\n\nexport default Complaints;\n"],"mappings":"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CA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,sDAAsDpI,iBAAiB,CAAC8F,QAAQ;AAChF,sDAAsD9F,iBAAiB,CAAC+F,QAAQ;AAChF,sDAAsD/F,iBAAiB,CAACgG,OAAO;AAC/E;AACA;AACA;AACA,gCAAgChG,iBAAiB,CAACiI,KAAK;AACvD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,0DAA0DjI,iBAAiB,CAAC8F,QAAQ,CAACuC,OAAO,CAAC,eAAe,EAAE,GAAG,CAAC;AAClH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;cAEDF,WAAW,CAACG,QAAQ,CAACV,IAAI,CAAC,CAAC;cAC3BO,WAAW,CAACG,QAAQ,CAACC,KAAK,CAACH,WAAW,CAAC;cACvCD,WAAW,CAACG,QAAQ,CAACE,KAAK,CAAC,CAAC;;cAE5B;cACAL,WAAW,CAACM,KAAK,CAAC,CAAC;cAEnBhH,OAAO,CAACC,GAAG,CAAC,mDAAmD,CAAC;YAElE,CAAC,CAAC,OAAOgH,QAAQ,EAAE;cACjBjH,OAAO,CAACgB,KAAK,CAAC,kCAAkC,EAAEiG,QAAQ,CAAC;cAC3DzD,KAAK,CAAC,2EAA2E,CAAC;YACpF;UACF,CAAC,MAAM;YACL;YACAA,KAAK,CAAC,6NAA6N,CAAC;UACtO;QACF,CAAC,EAAE,GAAG,CAAC,CAAC,CAAC;MACX;MAEAxE,mBAAmB,CAAC,KAAK,CAAC;;MAE1B;MACAyH,UAAU,CAAC,MAAM;QACf,IAAIlI,iBAAiB,CAACiI,KAAK,EAAE;UAC3BhD,KAAK,CAAC,kJAAkJ,CAAC;QAC3J,CAAC,MAAM;UACLA,KAAK,CAAC,mFAAmF,CAAC;QAC5F;MACF,CAAC,EAAE,GAAG,CAAC;IAET,CAAC,CAAC,OAAOxC,KAAK,EAAE;MACdhB,OAAO,CAACgB,KAAK,CAAC,2BAA2B,EAAEA,KAAK,CAAC;MACjDwC,KAAK,CAAC,yEAAyE,CAAC;IAClF;EACF,CAAC;EAGC,MAAM0D,kBAAkB,GAAGA,CAACvG,QAAQ,EAAEE,SAAS,EAAEsG,KAAK,KAAK;IACzDrJ,mBAAmB,CAAC;MAAE2C,GAAG,EAAEE,QAAQ;MAAEC,GAAG,EAAEC,SAAS;MAAEsG;IAAM,CAAC,CAAC;IAC7DnJ,YAAY,CAAC,CAAC2C,QAAQ,EAAEE,SAAS,CAAC,CAAC;IACnC3C,UAAU,CAAC,EAAE,CAAC;IACdN,UAAU,CAAC,IAAI,CAAC;EAClB,CAAC;EAED,MAAMwJ,gBAAgB,GAAIC,CAAC,IAAK;IAC9B,MAAMC,IAAI,GAAGD,CAAC,CAACE,MAAM,CAACC,KAAK,CAAC,CAAC,CAAC;IAC9B,IAAIF,IAAI,EAAE;MACR,IAAIA,IAAI,CAACG,IAAI,GAAG,CAAC,GAAG,IAAI,GAAG,IAAI,EAAE;QAC/BjE,KAAK,CAAC,oCAAoC,CAAC;QAC3C;MACF;MAEA,MAAMkE,MAAM,GAAG,IAAIC,UAAU,CAAC,CAAC;MAC/BD,MAAM,CAACE,SAAS,GAAG,MAAM;QACvB5H,OAAO,CAACC,GAAG,CAAC,sCAAsC,EAAEyH,MAAM,CAACG,MAAM,GAAG,SAAS,GAAG,QAAQ,CAAC;QACzFzI,aAAa,CAAC0B,IAAI,KAAK;UACrB,GAAGA,IAAI;UACPvB,UAAU,EAAEmI,MAAM,CAACG;QACrB,CAAC,CAAC,CAAC;MACL,CAAC;MACDH,MAAM,CAACI,aAAa,CAACR,IAAI,CAAC;IAC5B;EACF,CAAC;;EAED;EACA,MAAMS,SAAS,GAAGA,CAAC;IAAEC,GAAG;IAAEC,GAAG;IAAEC,SAAS;IAAEC,OAAO;IAAEC;EAAQ,CAAC,KAAK;IAAAnL,GAAA;IAC/D,MAAM,CAACoL,UAAU,EAAEC,aAAa,CAAC,GAAGxN,QAAQ,CAAC,KAAK,CAAC;IACnD,MAAM,CAACyN,QAAQ,EAAEC,WAAW,CAAC,GAAG1N,QAAQ,CAACkN,GAAG,CAAC;IAE7C,MAAMS,gBAAgB,GAAGA,CAAA,KAAM;MAC7BzI,OAAO,CAACC,GAAG,CAAC,yBAAyB,EAAE+H,GAAG,CAAC;MAC3CM,aAAa,CAAC,IAAI,CAAC;MACnB,IAAIF,OAAO,EAAEA,OAAO,CAAC,CAAC;IACxB,CAAC;IAED,MAAMM,eAAe,GAAGA,CAAA,KAAM;MAC5B1I,OAAO,CAACC,GAAG,CAAC,8BAA8B,EAAE+H,GAAG,CAAC;MAChDM,aAAa,CAAC,KAAK,CAAC;IACtB,CAAC;IAED,IAAID,UAAU,EAAE;MACd,oBACE3M,OAAA;QAAKwM,SAAS,EAAE,GAAGA,SAAS,qEAAsE;QAAAS,QAAA,eAChGjN,OAAA;UAAAiN,QAAA,EAAM;QAAqB;UAAAC,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAM;MAAC;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAC/B,CAAC;IAEV;IAEA,oBACErN,OAAA;MACEsM,GAAG,EAAEO,QAAS;MACdN,GAAG,EAAEA,GAAI;MACTC,SAAS,EAAEA,SAAU;MACrBC,OAAO,EAAEA,OAAQ;MACjBa,MAAM,EAAEN,eAAgB;MACxBN,OAAO,EAAEK,gBAAiB;MAC1BQ,KAAK,EAAE;QAAEC,OAAO,EAAE;MAAQ;IAAE;MAAAN,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAC7B,CAAC;EAEN,CAAC;EAAC9L,GAAA,CAlCI8K,SAAS;EAoCf,IAAItK,OAAO,EAAE;IACX,oBACE/B,OAAA;MAAKwM,SAAS,EAAC,0BAA0B;MAAAS,QAAA,gBACvCjN,OAAA,CAACV,MAAM;QAAA4N,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAE,CAAC,eACVrN,OAAA;QAAMwM,SAAS,EAAC,wCAAwC;QAAAS,QAAA,eACtDjN,OAAA;UAAKwM,SAAS,EAAC,mBAAmB;UAAAS,QAAA,eAChCjN,OAAA;YAAKwM,SAAS,EAAC,mBAAmB;YAAAS,QAAA,gBAChCjN,OAAA;cAAKwM,SAAS,EAAC;YAA2E;cAAAU,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAM,CAAC,eACjGrN,OAAA;cAAGwM,SAAS,EAAC,eAAe;cAAAS,QAAA,EAAC;YAAqB;cAAAC,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAG,CAAC;UAAA;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACnD;QAAC;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACH;MAAC;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACF,CAAC;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACJ,CAAC;EAEV;EAEA,MAAMI,0BAA0B,GAAIC,kBAAkB,IAAK;IACzD,IAAIA,kBAAkB,CAACC,MAAM,KAAK,CAAC,EAAE;MACnC,oBACE3N,OAAA;QAAKwM,SAAS,EAAC,mBAAmB;QAAAS,QAAA,gBAChCjN,OAAA;UAAKwM,SAAS,EAAC,iCAAiC;UAACoB,IAAI,EAAC,MAAM;UAACC,OAAO,EAAC,WAAW;UAACC,MAAM,EAAC,cAAc;UAAAb,QAAA,eACpGjN,OAAA;YAAM+N,aAAa,EAAC,OAAO;YAACC,cAAc,EAAC,OAAO;YAACC,WAAW,EAAC,GAAG;YAACC,CAAC,EAAC;UAAsH;YAAAhB,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAE;QAAC;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAC3L,CAAC,eACNrN,OAAA;UAAIwM,SAAS,EAAC,wCAAwC;UAAAS,QAAA,EAAC;QAAa;UAAAC,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAI,CAAC,eACzErN,OAAA;UAAGwM,SAAS,EAAC,4BAA4B;UAAAS,QAAA,EAAC;QAA4C;UAAAC,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAG,CAAC;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACvF,CAAC;IAEV;IAEA,oBACErN,OAAA;MAAKwM,SAAS,EAAC,qEAAqE;MAAAS,QAAA,EACjFS,kBAAkB,CAACxM,GAAG,CAAC,CAACyG,SAAS,EAAEwG,KAAK,kBACvCnO,OAAA;QAAkDwM,SAAS,EAAC,uDAAuD;QAAAS,QAAA,eACjHjN,OAAA;UAAKwM,SAAS,EAAC,kBAAkB;UAAAS,QAAA,gBAC/BjN,OAAA;YAAKwM,SAAS,EAAC,mCAAmC;YAAAS,QAAA,gBAChDjN,OAAA;cAAIwM,SAAS,EAAC,sDAAsD;cAAAS,QAAA,EACjEtF,SAAS,CAACgB,QAAQ,IAAI;YAAW;cAAAuE,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAChC,CAAC,eACLrN,OAAA;cAAMwM,SAAS,EAAE,iEACf7E,SAAS,CAACiB,QAAQ,KAAK,MAAM,GAAG,yBAAyB,GACzDjB,SAAS,CAACiB,QAAQ,KAAK,QAAQ,GAAG,+BAA+B,GACjE,6BAA6B,EAC5B;cAAAqE,QAAA,EACAtF,SAAS,CAACiB,QAAQ,IAAI;YAAQ;cAAAsE,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAC3B,CAAC;UAAA;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACJ,CAAC,eAENrN,OAAA;YAAKwM,SAAS,EAAC,qCAAqC;YAAAS,QAAA,eAClDjN,OAAA;cAAGwM,SAAS,EAAC,cAAc;cAAAS,QAAA,EAAEtF,SAAS,CAAC/D,WAAW,IAAI;YAAyB;cAAAsJ,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAI;UAAC;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACjF,CAAC,eAENrN,OAAA;YAAKwM,SAAS,EAAC,8CAA8C;YAAAS,QAAA,gBAC3DjN,OAAA;cAAMwM,SAAS,EAAC,UAAU;cAAAS,QAAA,EAAEtF,SAAS,CAACgB,QAAQ,IAAI;YAAS;cAAAuE,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAO,CAAC,eACnErN,OAAA;cAAMwM,SAAS,EAAC,MAAM;cAAAS,QAAA,EAAC;YAAC;cAAAC,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAM,CAAC,eAC/BrN,OAAA;cAAMwM,SAAS,EAAC,UAAU;cAAAS,QAAA,EAAEtF,SAAS,CAACkB,OAAO,IAAI;YAAwB;cAAAqE,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAO,CAAC;UAAA;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAC9E,CAAC,EAEL1F,SAAS,CAAC1C,QAAQ,IAAI0C,SAAS,CAACxC,SAAS,iBACxCnF,OAAA;YAAKwM,SAAS,EAAC,4BAA4B;YAAAS,QAAA,GAAC,eACvC,EAACtF,SAAS,CAAC1C,QAAQ,CAACI,OAAO,CAAC,CAAC,CAAC,EAAC,IAAE,EAACsC,SAAS,CAACxC,SAAS,CAACE,OAAO,CAAC,CAAC,CAAC;UAAA;YAAA6H,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAChE,CACN,eAEDrN,OAAA;YAAKwM,SAAS,EAAC,wCAAwC;YAAAS,QAAA,gBACrDjN,OAAA;cAAKwM,SAAS,EAAC,uBAAuB;cAAAS,QAAA,gBACpCjN,OAAA;gBAAAiN,QAAA,EAAM;cAAQ;gBAAAC,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAM,CAAC,eACrBrN,OAAA;gBAAMwM,SAAS,EAAC,sCAAsC;gBAAAS,QAAA,EAAEtF,SAAS,CAAChE,MAAM,IAAI;cAAS;gBAAAuJ,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAO,CAAC;YAAA;cAAAH,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAC1F,CAAC,eACNrN,OAAA;cAAKwM,SAAS,EAAC,uBAAuB;cAAAS,QAAA,gBACpCjN,OAAA;gBAAAiN,QAAA,EAAM;cAAS;gBAAAC,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAM,CAAC,eACtBrN,OAAA;gBAAAiN,QAAA,EAAO,IAAI5E,IAAI,CAACV,SAAS,CAACyG,SAAS,CAAC,CAACC,kBAAkB,CAAC,CAAC,IAAI;cAAK;gBAAAnB,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAO,CAAC;YAAA;cAAAH,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OACvE,CAAC;UAAA;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACH,CAAC,eAENrN,OAAA;YAAKwM,SAAS,EAAC,4BAA4B;YAAAS,QAAA,GAAC,cAC9B,EAACtF,SAAS,CAACM,iBAAiB,IAAIN,SAAS,CAACI,SAAS,IAAI,cAAc;UAAA;YAAAmF,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAC9E,CAAC,EAEL1F,SAAS,CAACmD,KAAK,iBACd9K,OAAA;YAAKwM,SAAS,EAAC,MAAM;YAAAS,QAAA,eACnBjN,OAAA,CAACqM,SAAS;cACRC,GAAG,EAAE3E,SAAS,CAACmD,KAAM;cACrByB,GAAG,EAAC,WAAW;cACfC,SAAS,EAAC;YAAqC;cAAAU,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAChD;UAAC;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACC,CACN,eAEDrN,OAAA;YAAKwM,SAAS,EAAC,2BAA2B;YAAAS,QAAA,gBACxCjN,OAAA;cACEyM,OAAO,EAAEA,CAAA,KAAM/E,iBAAiB,CAACC,SAAS,CAAE;cAC5C6E,SAAS,EAAC,gJAAgJ;cAAAS,QAAA,EAC3J;YAED;cAAAC,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAQ,CAAC,eACTrN,OAAA;cACEyM,OAAO,EAAEA,CAAA,KAAMtD,kBAAkB,CAACxB,SAAS,CAAE;cAC7C6E,SAAS,EAAC,6IAA6I;cAAAS,QAAA,EACxJ;YAED;cAAAC,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAQ,CAAC,eACTrN,OAAA;cACEyM,OAAO,EAAEA,CAAA,KAAMxC,sBAAsB,CAACtC,SAAS,CAAE;cACjD6E,SAAS,EAAC,0IAA0I;cAAAS,QAAA,EACrJ;YAED;cAAAC,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAQ,CAAC,EACR1F,SAAS,CAAC1C,QAAQ,IAAI0C,SAAS,CAACxC,SAAS,iBACxCnF,OAAA;cACEyM,OAAO,EAAEA,CAAA,KAAMjB,kBAAkB,CAAC7D,SAAS,CAAC1C,QAAQ,EAAE0C,SAAS,CAACxC,SAAS,EAAEwC,SAAS,CAACgB,QAAQ,CAAE;cAC/F6D,SAAS,EAAC,gJAAgJ;cAAAS,QAAA,EAC3J;YAED;cAAAC,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAQ,CACT;UAAA;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACE,CAAC;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACH;MAAC,GApFE1F,SAAS,CAACE,GAAG,IAAIF,SAAS,CAAC2G,EAAE,IAAIH,KAAK;QAAAjB,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAqF3C,CACN;IAAC;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACC,CAAC;EAEV,CAAC;EAED,MAAMkB,0BAA0B,GAAIb,kBAAkB,IAAK;IACzD,IAAIA,kBAAkB,CAACC,MAAM,KAAK,CAAC,EAAE;MACnC,oBACE3N,OAAA;QAAKwM,SAAS,EAAC,mBAAmB;QAAAS,QAAA,gBAChCjN,OAAA;UAAIwM,SAAS,EAAC,wCAAwC;UAAAS,QAAA,EAAC;QAAoB;UAAAC,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAI,CAAC,eAChFrN,OAAA;UAAGwM,SAAS,EAAC,4BAA4B;UAAAS,QAAA,EAAC;QAA+C;UAAAC,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAG,CAAC;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAC1F,CAAC;IAEV;IAEA,oBACErN,OAAA;MAAKwM,SAAS,EAAC,qEAAqE;MAAAS,QAAA,EACjFS,kBAAkB,CAACxM,GAAG,CAAC,CAACyG,SAAS,EAAEwG,KAAK,kBACvCnO,OAAA;QAAkDwM,SAAS,EAAC,uDAAuD;QAAAS,QAAA,eACjHjN,OAAA;UAAKwM,SAAS,EAAC,kBAAkB;UAAAS,QAAA,gBAC/BjN,OAAA;YAAKwM,SAAS,EAAC,mCAAmC;YAAAS,QAAA,gBAChDjN,OAAA;cAAIwM,SAAS,EAAC,sDAAsD;cAAAS,QAAA,EACjEtF,SAAS,CAACgB,QAAQ,IAAI;YAAW;cAAAuE,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAChC,CAAC,eACLrN,OAAA;cAAMwM,SAAS,EAAC,2FAA2F;cAAAS,QAAA,EAAC;YAE5G;cAAAC,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAM,CAAC;UAAA;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACJ,CAAC,eAENrN,OAAA;YAAKwM,SAAS,EAAC,qCAAqC;YAAAS,QAAA,eAClDjN,OAAA;cAAGwM,SAAS,EAAC,cAAc;cAAAS,QAAA,EAAEtF,SAAS,CAAC/D,WAAW,IAAI;YAAyB;cAAAsJ,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAI;UAAC;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACjF,CAAC,EAEL1F,SAAS,CAAC1C,QAAQ,IAAI0C,SAAS,CAACxC,SAAS,iBACxCnF,OAAA;YAAKwM,SAAS,EAAC,4BAA4B;YAAAS,QAAA,GAAC,eACvC,EAACtF,SAAS,CAAC1C,QAAQ,CAACI,OAAO,CAAC,CAAC,CAAC,EAAC,IAAE,EAACsC,SAAS,CAACxC,SAAS,CAACE,OAAO,CAAC,CAAC,CAAC;UAAA;YAAA6H,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAChE,CACN,eAEDrN,OAAA;YAAKwM,SAAS,EAAC,4BAA4B;YAAAS,QAAA,gBACzCjN,OAAA;cAAAiN,QAAA,GAAK,cAAY,EAACtF,SAAS,CAACM,iBAAiB,IAAI,cAAc;YAAA;cAAAiF,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAM,CAAC,eACtErN,OAAA;cAAAiN,QAAA,GAAK,gBAAc,EAACtF,SAAS,CAACkC,UAAU,IAAI,cAAc;YAAA;cAAAqD,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAM,CAAC,eACjErN,OAAA;cAAAiN,QAAA,GAAK,gBAAc,EAACtF,SAAS,CAACiC,UAAU,GAAG,IAAIvB,IAAI,CAACV,SAAS,CAACiC,UAAU,CAAC,CAACyE,kBAAkB,CAAC,CAAC,GAAG,KAAK;YAAA;cAAAnB,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAM,CAAC;UAAA;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAC1G,CAAC,eAENrN,OAAA;YAAKwM,SAAS,EAAC,2BAA2B;YAAAS,QAAA,eACxCjN,OAAA;cACEyM,OAAO,EAAEA,CAAA,KAAM/E,iBAAiB,CAACC,SAAS,CAAE;cAC5C6E,SAAS,EAAC,gJAAgJ;cAAAS,QAAA,EAC3J;YAED;cAAAC,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAQ;UAAC;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACN,CAAC;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACH;MAAC,GAnCE1F,SAAS,CAACE,GAAG,IAAIF,SAAS,CAAC2G,EAAE,IAAIH,KAAK;QAAAjB,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAoC3C,CACN;IAAC;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACC,CAAC;EAEV,CAAC;EAED,MAAMmB,UAAU,GAAG,CACjB;IACEC,KAAK,EAAE,QAAQ9M,gBAAgB,CAACgM,MAAM,GAAG;IACzCe,OAAO,EAAEjB,0BAA0B,CAAC9L,gBAAgB;EACtD,CAAC,EACD;IACE8M,KAAK,EAAE,YAAYlH,iBAAiB,CAACoG,MAAM,GAAG;IAC9Ce,OAAO,EAAEjB,0BAA0B,CAAClG,iBAAiB;EACvD,CAAC,EACD;IACEkH,KAAK,EAAE,gBAAgBhH,oBAAoB,CAACkG,MAAM,GAAG;IACrDe,OAAO,EAAEjB,0BAA0B,CAAChG,oBAAoB;EAC1D,CAAC,CACF;EAED,MAAMkH,UAAU,GAAG,CACjB;IACEF,KAAK,EAAE,QAAQ5M,gBAAgB,CAAC8L,MAAM,GAAG;IACzCe,OAAO,EAAEH,0BAA0B,CAAC1M,gBAAgB;EACtD,CAAC,CACF;EAED,oBACE7B,OAAA;IAAKwM,SAAS,EAAC,0BAA0B;IAAAS,QAAA,gBACvCjN,OAAA,CAACV,MAAM;MAAA4N,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAE,CAAC,eAEVrN,OAAA;MAAMwM,SAAS,EAAC,wCAAwC;MAAAS,QAAA,eACtDjN,OAAA;QAAKwM,SAAS,EAAC,mBAAmB;QAAAS,QAAA,GAG/BtK,kBAAkB,IAAIE,iBAAiB,iBACtC7C,OAAA;UAAKwM,SAAS,EAAC,gFAAgF;UAAAS,QAAA,eAC7FjN,OAAA;YAAKwM,SAAS,EAAC,mEAAmE;YAAAS,QAAA,eAChFjN,OAAA;cAAKwM,SAAS,EAAC,KAAK;cAAAS,QAAA,gBAClBjN,OAAA;gBAAKwM,SAAS,EAAC,wCAAwC;gBAAAS,QAAA,gBACrDjN,OAAA;kBAAIwM,SAAS,EAAC,kCAAkC;kBAAAS,QAAA,EAC7ClK,QAAQ,GAAG,gBAAgB,GAAG;gBAAmB;kBAAAmK,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAChD,CAAC,eACLrN,OAAA;kBAAKwM,SAAS,EAAC,YAAY;kBAAAS,QAAA,GACxB,CAAClK,QAAQ,IAAIN,WAAW,KACvBA,WAAW,CAACoF,GAAG,KAAKhF,iBAAiB,CAACkF,SAAS,IAC/CtF,WAAW,CAACuF,QAAQ,KAAKnF,iBAAiB,CAACoF,iBAAiB,CAC7D,iBACCjI,OAAA;oBACEyM,OAAO,EAAE7E,mBAAoB;oBAC7B4E,SAAS,EAAC,+DAA+D;oBAAAS,QAAA,EAC1E;kBAED;oBAAAC,QAAA,EAAAC,YAAA;oBAAAC,UAAA;oBAAAC,YAAA;kBAAA,OAAQ,CACT,eACDrN,OAAA;oBACEyM,OAAO,EAAEA,CAAA,KAAM7J,qBAAqB,CAAC,KAAK,CAAE;oBAC5C4J,SAAS,EAAC,mCAAmC;oBAAAS,QAAA,eAE7CjN,OAAA;sBAAKwM,SAAS,EAAC,SAAS;sBAACoB,IAAI,EAAC,MAAM;sBAACC,OAAO,EAAC,WAAW;sBAACC,MAAM,EAAC,cAAc;sBAAAb,QAAA,eAC5EjN,OAAA;wBAAM+N,aAAa,EAAC,OAAO;wBAACC,cAAc,EAAC,OAAO;wBAACC,WAAW,EAAE,CAAE;wBAACC,CAAC,EAAC;sBAAsB;wBAAAhB,QAAA,EAAAC,YAAA;wBAAAC,UAAA;wBAAAC,YAAA;sBAAA,OAAE;oBAAC;sBAAAH,QAAA,EAAAC,YAAA;sBAAAC,UAAA;sBAAAC,YAAA;oBAAA,OAC3F;kBAAC;oBAAAH,QAAA,EAAAC,YAAA;oBAAAC,UAAA;oBAAAC,YAAA;kBAAA,OACA,CAAC;gBAAA;kBAAAH,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OACN,CAAC;cAAA;gBAAAH,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OACH,CAAC,EAEL,CAACtK,QAAQ,iBACR/C,OAAA;gBAAKwM,SAAS,EAAC,2DAA2D;gBAAAS,QAAA,eACxEjN,OAAA;kBAAGwM,SAAS,EAAC,yBAAyB;kBAAAS,QAAA,GAAC,0CACP,EAACpK,iBAAiB,CAACoF,iBAAiB,IAAI,cAAc,EAAC,2DACvF;gBAAA;kBAAAiF,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAAG;cAAC;gBAAAH,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OACD,CACN,eAGDrN,OAAA;gBAAKwM,SAAS,EAAC,uCAAuC;gBAAAS,QAAA,gBACpDjN,OAAA;kBAAAiN,QAAA,gBACEjN,OAAA;oBAAOwM,SAAS,EAAC,8CAA8C;oBAAAS,QAAA,EAAC;kBAAQ;oBAAAC,QAAA,EAAAC,YAAA;oBAAAC,UAAA;oBAAAC,YAAA;kBAAA,OAAO,CAAC,EAC/EtK,QAAQ,gBACP/C,OAAA;oBACE4O,KAAK,EAAE3L,eAAe,CAAC0F,QAAS;oBAChCkG,QAAQ,EAAGlD,CAAC,IAAKzI,kBAAkB,CAACkC,IAAI,KAAK;sBAAC,GAAGA,IAAI;sBAAEuD,QAAQ,EAAEgD,CAAC,CAACE,MAAM,CAAC+C;oBAAK,CAAC,CAAC,CAAE;oBACnFpC,SAAS,EAAC,8BAA8B;oBAAAS,QAAA,gBAExCjN,OAAA;sBAAQ4O,KAAK,EAAC,SAAS;sBAAA3B,QAAA,EAAC;oBAAO;sBAAAC,QAAA,EAAAC,YAAA;sBAAAC,UAAA;sBAAAC,YAAA;oBAAA,OAAQ,CAAC,eACxCrN,OAAA;sBAAQ4O,KAAK,EAAC,eAAe;sBAAA3B,QAAA,EAAC;oBAAa;sBAAAC,QAAA,EAAAC,YAAA;sBAAAC,UAAA;sBAAAC,YAAA;oBAAA,OAAQ,CAAC,eACpDrN,OAAA;sBAAQ4O,KAAK,EAAC,SAAS;sBAAA3B,QAAA,EAAC;oBAAO;sBAAAC,QAAA,EAAAC,YAAA;sBAAAC,UAAA;sBAAAC,YAAA;oBAAA,OAAQ,CAAC,eACxCrN,OAAA;sBAAQ4O,KAAK,EAAC,mBAAmB;sBAAA3B,QAAA,EAAC;oBAAiB;sBAAAC,QAAA,EAAAC,YAAA;sBAAAC,UAAA;sBAAAC,YAAA;oBAAA,OAAQ,CAAC,eAC5DrN,OAAA;sBAAQ4O,KAAK,EAAC,cAAc;sBAAA3B,QAAA,EAAC;oBAAY;sBAAAC,QAAA,EAAAC,YAAA;sBAAAC,UAAA;sBAAAC,YAAA;oBAAA,OAAQ,CAAC,eAClDrN,OAAA;sBAAQ4O,KAAK,EAAC,QAAQ;sBAAA3B,QAAA,EAAC;oBAAM;sBAAAC,QAAA,EAAAC,YAAA;sBAAAC,UAAA;sBAAAC,YAAA;oBAAA,OAAQ,CAAC,eACtCrN,OAAA;sBAAQ4O,KAAK,EAAC,OAAO;sBAAA3B,QAAA,EAAC;oBAAK;sBAAAC,QAAA,EAAAC,YAAA;sBAAAC,UAAA;sBAAAC,YAAA;oBAAA,OAAQ,CAAC;kBAAA;oBAAAH,QAAA,EAAAC,YAAA;oBAAAC,UAAA;oBAAAC,YAAA;kBAAA,OAC9B,CAAC,gBAETrN,OAAA;oBAAGwM,SAAS,EAAC,eAAe;oBAAAS,QAAA,EAAEpK,iBAAiB,CAAC8F;kBAAQ;oBAAAuE,QAAA,EAAAC,YAAA;oBAAAC,UAAA;oBAAAC,YAAA;kBAAA,OAAI,CAC7D;gBAAA;kBAAAH,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OACE,CAAC,eAENrN,OAAA;kBAAAiN,QAAA,gBACEjN,OAAA;oBAAOwM,SAAS,EAAC,8CAA8C;oBAAAS,QAAA,EAAC;kBAAQ;oBAAAC,QAAA,EAAAC,YAAA;oBAAAC,UAAA;oBAAAC,YAAA;kBAAA,OAAO,CAAC,EAC/EtK,QAAQ,gBACP/C,OAAA;oBACE4O,KAAK,EAAE3L,eAAe,CAAC2F,QAAS;oBAChCiG,QAAQ,EAAGlD,CAAC,IAAKzI,kBAAkB,CAACkC,IAAI,KAAK;sBAAC,GAAGA,IAAI;sBAAEwD,QAAQ,EAAE+C,CAAC,CAACE,MAAM,CAAC+C;oBAAK,CAAC,CAAC,CAAE;oBACnFpC,SAAS,EAAC,8BAA8B;oBAAAS,QAAA,gBAExCjN,OAAA;sBAAQ4O,KAAK,EAAC,KAAK;sBAAA3B,QAAA,EAAC;oBAAG;sBAAAC,QAAA,EAAAC,YAAA;sBAAAC,UAAA;sBAAAC,YAAA;oBAAA,OAAQ,CAAC,eAChCrN,OAAA;sBAAQ4O,KAAK,EAAC,QAAQ;sBAAA3B,QAAA,EAAC;oBAAM;sBAAAC,QAAA,EAAAC,YAAA;sBAAAC,UAAA;sBAAAC,YAAA;oBAAA,OAAQ,CAAC,eACtCrN,OAAA;sBAAQ4O,KAAK,EAAC,MAAM;sBAAA3B,QAAA,EAAC;oBAAI;sBAAAC,QAAA,EAAAC,YAAA;sBAAAC,UAAA;sBAAAC,YAAA;oBAAA,OAAQ,CAAC;kBAAA;oBAAAH,QAAA,EAAAC,YAAA;oBAAAC,UAAA;oBAAAC,YAAA;kBAAA,OAC5B,CAAC,gBAETrN,OAAA;oBAAMwM,SAAS,EAAE,kCACf3J,iBAAiB,CAAC+F,QAAQ,KAAK,MAAM,GAAG,yBAAyB,GACjE/F,iBAAiB,CAAC+F,QAAQ,KAAK,QAAQ,GAAG,+BAA+B,GACzE,6BAA6B,EAC5B;oBAAAqE,QAAA,EACApK,iBAAiB,CAAC+F;kBAAQ;oBAAAsE,QAAA,EAAAC,YAAA;oBAAAC,UAAA;oBAAAC,YAAA;kBAAA,OACvB,CACP;gBAAA;kBAAAH,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OACE,CAAC,eAENrN,OAAA;kBAAKwM,SAAS,EAAC,eAAe;kBAAAS,QAAA,gBAC5BjN,OAAA;oBAAOwM,SAAS,EAAC,8CAA8C;oBAAAS,QAAA,EAAC;kBAAW;oBAAAC,QAAA,EAAAC,YAAA;oBAAAC,UAAA;oBAAAC,YAAA;kBAAA,OAAO,CAAC,EAClFtK,QAAQ,gBACP/C,OAAA;oBACE4O,KAAK,EAAE3L,eAAe,CAACW,WAAY;oBACnCiL,QAAQ,EAAGlD,CAAC,IAAKzI,kBAAkB,CAACkC,IAAI,KAAK;sBAAC,GAAGA,IAAI;sBAAExB,WAAW,EAAE+H,CAAC,CAACE,MAAM,CAAC+C;oBAAK,CAAC,CAAC,CAAE;oBACtFE,IAAI,EAAE,CAAE;oBACRtC,SAAS,EAAC;kBAA8B;oBAAAU,QAAA,EAAAC,YAAA;oBAAAC,UAAA;oBAAAC,YAAA;kBAAA,OACzC,CAAC,gBAEFrN,OAAA;oBAAGwM,SAAS,EAAC,eAAe;oBAAAS,QAAA,EAAEpK,iBAAiB,CAACe;kBAAW;oBAAAsJ,QAAA,EAAAC,YAAA;oBAAAC,UAAA;oBAAAC,YAAA;kBAAA,OAAI,CAChE;gBAAA;kBAAAH,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OACE,CAAC,eAENrN,OAAA;kBAAKwM,SAAS,EAAC,eAAe;kBAAAS,QAAA,gBAC5BjN,OAAA;oBAAOwM,SAAS,EAAC,8CAA8C;oBAAAS,QAAA,EAAC;kBAAO;oBAAAC,QAAA,EAAAC,YAAA;oBAAAC,UAAA;oBAAAC,YAAA;kBAAA,OAAO,CAAC,EAC9EtK,QAAQ,gBACP/C,OAAA;oBACE+O,IAAI,EAAC,MAAM;oBACXH,KAAK,EAAE3L,eAAe,CAAC4F,OAAQ;oBAC/BgG,QAAQ,EAAGlD,CAAC,IAAKzI,kBAAkB,CAACkC,IAAI,KAAK;sBAAC,GAAGA,IAAI;sBAAEyD,OAAO,EAAE8C,CAAC,CAACE,MAAM,CAAC+C;oBAAK,CAAC,CAAC,CAAE;oBAClFpC,SAAS,EAAC;kBAA8B;oBAAAU,QAAA,EAAAC,YAAA;oBAAAC,UAAA;oBAAAC,YAAA;kBAAA,OACzC,CAAC,gBAEFrN,OAAA;oBAAGwM,SAAS,EAAC,eAAe;oBAAAS,QAAA,EAAEpK,iBAAiB,CAACgG;kBAAO;oBAAAqE,QAAA,EAAAC,YAAA;oBAAAC,UAAA;oBAAAC,YAAA;kBAAA,OAAI,CAC5D;gBAAA;kBAAAH,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OACE,CAAC,eAENrN,OAAA;kBAAAiN,QAAA,gBACEjN,OAAA;oBAAOwM,SAAS,EAAC,8CAA8C;oBAAAS,QAAA,EAAC;kBAAQ;oBAAAC,QAAA,EAAAC,YAAA;oBAAAC,UAAA;oBAAAC,YAAA;kBAAA,OAAO,CAAC,eAChFrN,OAAA;oBAAGwM,SAAS,EAAC,sCAAsC;oBAAAS,QAAA,EAChDpK,iBAAiB,CAACoC,QAAQ,GAAGpC,iBAAiB,CAACoC,QAAQ,CAACI,OAAO,CAAC,CAAC,CAAC,GAAG;kBAAe;oBAAA6H,QAAA,EAAAC,YAAA;oBAAAC,UAAA;oBAAAC,YAAA;kBAAA,OACpF,CAAC;gBAAA;kBAAAH,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OACD,CAAC,eAENrN,OAAA;kBAAAiN,QAAA,gBACEjN,OAAA;oBAAOwM,SAAS,EAAC,8CAA8C;oBAAAS,QAAA,EAAC;kBAAS;oBAAAC,QAAA,EAAAC,YAAA;oBAAAC,UAAA;oBAAAC,YAAA;kBAAA,OAAO,CAAC,eACjFrN,OAAA;oBAAGwM,SAAS,EAAC,sCAAsC;oBAAAS,QAAA,EAChDpK,iBAAiB,CAACsC,SAAS,GAAGtC,iBAAiB,CAACsC,SAAS,CAACE,OAAO,CAAC,CAAC,CAAC,GAAG;kBAAe;oBAAA6H,QAAA,EAAAC,YAAA;oBAAAC,UAAA;oBAAAC,YAAA;kBAAA,OACtF,CAAC;gBAAA;kBAAAH,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OACD,CAAC;cAAA;gBAAAH,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OACH,CAAC,EAELxK,iBAAiB,CAACiI,KAAK,iBACtB9K,OAAA;gBAAKwM,SAAS,EAAC,MAAM;gBAAAS,QAAA,gBACnBjN,OAAA;kBAAOwM,SAAS,EAAC,8CAA8C;kBAAAS,QAAA,EAAC;gBAAc;kBAAAC,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAAO,CAAC,eACtFrN,OAAA,CAACqM,SAAS;kBACRC,GAAG,EAAEzJ,iBAAiB,CAACiI,KAAM;kBAC7ByB,GAAG,EAAC,oBAAoB;kBACxBC,SAAS,EAAC;gBAAsC;kBAAAU,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OACjD,CAAC;cAAA;gBAAAH,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OACC,CACN,eAGDrN,OAAA;gBAAKwM,SAAS,EAAC,MAAM;gBAAAS,QAAA,gBACnBjN,OAAA;kBAAIwM,SAAS,EAAC,wCAAwC;kBAAAS,QAAA,EAAC;gBAAe;kBAAAC,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAAI,CAAC,eAC3ErN,OAAA;kBAAKwM,SAAS,EAAC,oDAAoD;kBAAAS,QAAA,gBAEjEjN,OAAA;oBAAKwM,SAAS,EAAC,2CAA2C;oBAAAS,QAAA,gBACxDjN,OAAA;sBAAKwM,SAAS,EAAC,kCAAkC;sBAAAS,QAAA,eAC/CjN,OAAA;wBAAKwM,SAAS,EAAC,QAAQ;wBAAAS,QAAA,gBACrBjN,OAAA;0BAAGwM,SAAS,EAAC,6CAA6C;0BAAAS,QAAA,EAAC;wBAE3D;0BAAAC,QAAA,EAAAC,YAAA;0BAAAC,UAAA;0BAAAC,YAAA;wBAAA,OAAG,CAAC,eACJrN,OAAA;0BAAGwM,SAAS,EAAC,4BAA4B;0BAAAS,QAAA,GAAC,aAC7B,eAAAjN,OAAA;4BAAMwM,SAAS,EAAC,2BAA2B;4BAAAS,QAAA,EACnDpK,iBAAiB,CAACoF,iBAAiB,IAAIpF,iBAAiB,CAACkF,SAAS,IAAI;0BAAc;4BAAAmF,QAAA,EAAAC,YAAA;4BAAAC,UAAA;4BAAAC,YAAA;0BAAA,OACjF,CAAC;wBAAA;0BAAAH,QAAA,EAAAC,YAAA;0BAAAC,UAAA;0BAAAC,YAAA;wBAAA,OACN,CAAC,eACJrN,OAAA;0BAAGwM,SAAS,EAAC,uBAAuB;0BAAAS,QAAA,EACjC,IAAI5E,IAAI,CAACxF,iBAAiB,CAACuL,SAAS,CAAC,CAACY,cAAc,CAAC;wBAAC;0BAAA9B,QAAA,EAAAC,YAAA;0BAAAC,UAAA;0BAAAC,YAAA;wBAAA,OACtD,CAAC;sBAAA;wBAAAH,QAAA,EAAAC,YAAA;wBAAAC,UAAA;wBAAAC,YAAA;sBAAA,OACD;oBAAC;sBAAAH,QAAA,EAAAC,YAAA;sBAAAC,UAAA;sBAAAC,YAAA;oBAAA,OACH,CAAC,EACLxK,iBAAiB,CAACiI,KAAK,iBACtB9K,OAAA;sBAAKwM,SAAS,EAAC,MAAM;sBAAAS,QAAA,gBACnBjN,OAAA;wBAAGwM,SAAS,EAAC,wCAAwC;wBAAAS,QAAA,EAAC;sBAAe;wBAAAC,QAAA,EAAAC,YAAA;wBAAAC,UAAA;wBAAAC,YAAA;sBAAA,OAAG,CAAC,eACzErN,OAAA,CAACqM,SAAS;wBACRC,GAAG,EAAEzJ,iBAAiB,CAACiI,KAAM;wBAC7ByB,GAAG,EAAC,oBAAoB;wBACxBC,SAAS,EAAC,uFAAuF;wBACjGC,OAAO,EAAEA,CAAA,KAAM;0BACb,MAAMwC,SAAS,GAAGzE,MAAM,CAACC,IAAI,CAAC,EAAE,EAAE,QAAQ,EAAE,sBAAsB,CAAC;0BACnE,IAAIwE,SAAS,EAAE;4BACbA,SAAS,CAAC9D,QAAQ,CAACC,KAAK,CAAC;AAC3D;AACA;AACA;AACA,oDAAoDvI,iBAAiB,CAACiI,KAAK;AAC3E;AACA;AACA,mCAAmC,CAAC;0BACJ;wBACF;sBAAE;wBAAAoC,QAAA,EAAAC,YAAA;wBAAAC,UAAA;wBAAAC,YAAA;sBAAA,OACH,CAAC;oBAAA;sBAAAH,QAAA,EAAAC,YAAA;sBAAAC,UAAA;sBAAAC,YAAA;oBAAA,OACC,CACN;kBAAA;oBAAAH,QAAA,EAAAC,YAAA;oBAAAC,UAAA;oBAAAC,YAAA;kBAAA,OACE,CAAC,EAGL,CAACxK,iBAAiB,CAACsF,SAAS,IAAI,EAAE,EAAEjH,GAAG,CAAC,CAACqD,GAAG,EAAE4J,KAAK,KAAK;oBACvD7J,OAAO,CAACC,GAAG,CAAC,0BAA0B4J,KAAK,GAAG,EAAE;sBAC9C5F,MAAM,EAAEhE,GAAG,CAACgE,MAAM;sBAClBtE,IAAI,EAAEM,GAAG,CAACN,IAAI;sBACdiL,aAAa,EAAE,CAAC,CAAC3K,GAAG,CAACV,UAAU;sBAC/BsL,gBAAgB,EAAE5K,GAAG,CAACV,UAAU,GAAGU,GAAG,CAACV,UAAU,CAAC8J,MAAM,GAAG;oBAC7D,CAAC,CAAC;oBAEF,oBACE3N,OAAA;sBAAiBwM,SAAS,EAAE,uCAC1BjI,GAAG,CAACgE,MAAM,CAAC6G,QAAQ,CAAC,MAAM,CAAC,GAAG,mBAAmB,GACjD7K,GAAG,CAACgE,MAAM,CAAC6G,QAAQ,CAAC,WAAW,CAAC,IAAI7K,GAAG,CAACgE,MAAM,CAAC6G,QAAQ,CAAC,WAAW,CAAC,GAAG,kBAAkB,GACzF,iBAAiB,EAChB;sBAAAnC,QAAA,gBACDjN,OAAA;wBAAKwM,SAAS,EAAC,kCAAkC;wBAAAS,QAAA,eAC/CjN,OAAA;0BAAKwM,SAAS,EAAC,QAAQ;0BAAAS,QAAA,gBACrBjN,OAAA;4BAAGwM,SAAS,EAAC,6CAA6C;4BAAAS,QAAA,GACvD1I,GAAG,CAACgE,MAAM,CAAC6G,QAAQ,CAAC,MAAM,CAAC,GAAG,IAAI,GAClC7K,GAAG,CAACgE,MAAM,CAAC6G,QAAQ,CAAC,WAAW,CAAC,IAAI7K,GAAG,CAACgE,MAAM,CAAC6G,QAAQ,CAAC,WAAW,CAAC,GAAG,GAAG,GAAG,IAAI,EAAC,GAAC,EAAC7K,GAAG,CAACgE,MAAM;0BAAA;4BAAA2E,QAAA,EAAAC,YAAA;4BAAAC,UAAA;4BAAAC,YAAA;0BAAA,OAC9F,CAAC,eACJrN,OAAA;4BAAGwM,SAAS,EAAC,4BAA4B;4BAAAS,QAAA,GAAC,aAC7B,eAAAjN,OAAA;8BAAMwM,SAAS,EAAC,2BAA2B;8BAAAS,QAAA,EAAE1I,GAAG,CAACN,IAAI,IAAI;4BAAc;8BAAAiJ,QAAA,EAAAC,YAAA;8BAAAC,UAAA;8BAAAC,YAAA;4BAAA,OAAO,CAAC,EACzF9I,GAAG,CAACmF,oBAAoB,iBACvB1J,OAAA;8BAAMwM,SAAS,EAAC,qBAAqB;8BAAAS,QAAA,GAAC,eAAG,EAAC1I,GAAG,CAACmF,oBAAoB,EAAC,gBAAc;4BAAA;8BAAAwD,QAAA,EAAAC,YAAA;8BAAAC,UAAA;8BAAAC,YAAA;4BAAA,OAAM,CACxF;0BAAA;4BAAAH,QAAA,EAAAC,YAAA;4BAAAC,UAAA;4BAAAC,YAAA;0BAAA,OACA,CAAC,eACJrN,OAAA;4BAAGwM,SAAS,EAAC,uBAAuB;4BAAAS,QAAA,EACjC,IAAI5E,IAAI,CAAC9D,GAAG,CAAC6D,SAAS,CAAC,CAAC4G,cAAc,CAAC;0BAAC;4BAAA9B,QAAA,EAAAC,YAAA;4BAAAC,UAAA;4BAAAC,YAAA;0BAAA,OACxC,CAAC,EACH9I,GAAG,CAACX,WAAW,iBACd5D,OAAA;4BAAKwM,SAAS,EAAC,sDAAsD;4BAAAS,QAAA,gBACnEjN,OAAA;8BAAGwM,SAAS,EAAC,wCAAwC;8BAAAS,QAAA,EAAC;4BAAmB;8BAAAC,QAAA,EAAAC,YAAA;8BAAAC,UAAA;8BAAAC,YAAA;4BAAA,OAAG,CAAC,eAC7ErN,OAAA;8BAAGwM,SAAS,EAAC,uBAAuB;8BAAAS,QAAA,EAAE1I,GAAG,CAACX;4BAAW;8BAAAsJ,QAAA,EAAAC,YAAA;8BAAAC,UAAA;8BAAAC,YAAA;4BAAA,OAAI,CAAC;0BAAA;4BAAAH,QAAA,EAAAC,YAAA;4BAAAC,UAAA;4BAAAC,YAAA;0BAAA,OACvD,CACN,EACA9I,GAAG,CAACmE,OAAO,IAAI2G,MAAM,CAACC,IAAI,CAAC/K,GAAG,CAACmE,OAAO,CAAC,CAACiF,MAAM,GAAG,CAAC,iBACjD3N,OAAA;4BAAKwM,SAAS,EAAC,4DAA4D;4BAAAS,QAAA,gBACzEjN,OAAA;8BAAGwM,SAAS,EAAC,qCAAqC;8BAAAS,QAAA,EAAC;4BAAa;8BAAAC,QAAA,EAAAC,YAAA;8BAAAC,UAAA;8BAAAC,YAAA;4BAAA,OAAG,CAAC,EACnEgC,MAAM,CAACE,OAAO,CAAChL,GAAG,CAACmE,OAAO,CAAC,CAACxH,GAAG,CAAC,CAAC,CAACsO,GAAG,EAAEZ,KAAK,CAAC,kBAC5C5O,OAAA;8BAAawM,SAAS,EAAC,yBAAyB;8BAAAS,QAAA,gBAC9CjN,OAAA;gCAAAiN,QAAA,GAASuC,GAAG,EAAC,GAAC;8BAAA;gCAAAtC,QAAA,EAAAC,YAAA;gCAAAC,UAAA;gCAAAC,YAAA;8BAAA,OAAQ,CAAC,KAAC,EAACuB,KAAK;4BAAA,GADxBY,GAAG;8BAAAtC,QAAA,EAAAC,YAAA;8BAAAC,UAAA;8BAAAC,YAAA;4BAAA,OAER,CACJ,CAAC;0BAAA;4BAAAH,QAAA,EAAAC,YAAA;4BAAAC,UAAA;4BAAAC,YAAA;0BAAA,OACC,CACN;wBAAA;0BAAAH,QAAA,EAAAC,YAAA;0BAAAC,UAAA;0BAAAC,YAAA;wBAAA,OACE;sBAAC;wBAAAH,QAAA,EAAAC,YAAA;wBAAAC,UAAA;wBAAAC,YAAA;sBAAA,OACH,CAAC,EAGL9I,GAAG,CAACV,UAAU,iBACb7D,OAAA;wBAAKwM,SAAS,EAAC,oDAAoD;wBAAAS,QAAA,gBACjEjN,OAAA;0BAAGwM,SAAS,EAAC,wCAAwC;0BAAAS,QAAA,EAAC;wBAAe;0BAAAC,QAAA,EAAAC,YAAA;0BAAAC,UAAA;0BAAAC,YAAA;wBAAA,OAAG,CAAC,eACzErN,OAAA,CAACqM,SAAS;0BACRC,GAAG,EAAE/H,GAAG,CAACV,UAAW;0BACpB0I,GAAG,EAAE,iBAAiBhI,GAAG,CAACgE,MAAM,EAAG;0BACnCiE,SAAS,EAAC,8FAA8F;0BACxGC,OAAO,EAAEA,CAAA,KAAM;4BACb,MAAMwC,SAAS,GAAGzE,MAAM,CAACC,IAAI,CAAC,EAAE,EAAE,QAAQ,EAAE,sBAAsB,CAAC;4BACnE,IAAIwE,SAAS,EAAE;8BACbA,SAAS,CAAC9D,QAAQ,CAACC,KAAK,CAAC;AAC/D;AACA,uEAAuE7G,GAAG,CAACgE,MAAM;AACjF;AACA,iGAAiGhE,GAAG,CAACgE,MAAM,MAAMhE,GAAG,CAACN,IAAI;AACzH,wDAAwDM,GAAG,CAACV,UAAU;AACtE;AACA,wGAAwGU,GAAG,CAACX,WAAW,IAAI,yBAAyB;AACpJ,iGAAiG,IAAIyE,IAAI,CAAC9D,GAAG,CAAC6D,SAAS,CAAC,CAAC4G,cAAc,CAAC,CAAC;AACzI,gDAAgDzK,GAAG,CAACmF,oBAAoB,GAAG,wDAAwDnF,GAAG,CAACmF,oBAAoB,6BAA6B,GAAG,EAAE;AAC7L;AACA;AACA;AACA,uCAAuC,CAAC;4BACJ;0BACF;wBAAE;0BAAAwD,QAAA,EAAAC,YAAA;0BAAAC,UAAA;0BAAAC,YAAA;wBAAA,OACH,CAAC,eACFrN,OAAA;0BAAGwM,SAAS,EAAC,4BAA4B;0BAAAS,QAAA,EAAC;wBAA0B;0BAAAC,QAAA,EAAAC,YAAA;0BAAAC,UAAA;0BAAAC,YAAA;wBAAA,OAAG,CAAC;sBAAA;wBAAAH,QAAA,EAAAC,YAAA;wBAAAC,UAAA;wBAAAC,YAAA;sBAAA,OACrE,CACN;oBAAA,GArEOc,KAAK;sBAAAjB,QAAA,EAAAC,YAAA;sBAAAC,UAAA;sBAAAC,YAAA;oBAAA,OAsEV,CAAC;kBAEV,CAAC,CAAC,EAGDxK,iBAAiB,CAAC+G,UAAU,iBAC3B5J,OAAA;oBAAKwM,SAAS,EAAC,6DAA6D;oBAAAS,QAAA,gBAC1EjN,OAAA;sBAAKwM,SAAS,EAAC,kCAAkC;sBAAAS,QAAA,eAC/CjN,OAAA;wBAAKwM,SAAS,EAAC,QAAQ;wBAAAS,QAAA,gBACrBjN,OAAA;0BAAGwM,SAAS,EAAC,8CAA8C;0BAAAS,QAAA,EAAC;wBAE5D;0BAAAC,QAAA,EAAAC,YAAA;0BAAAC,UAAA;0BAAAC,YAAA;wBAAA,OAAG,CAAC,eACJrN,OAAA;0BAAGwM,SAAS,EAAC,6BAA6B;0BAAAS,QAAA,GAAC,eAC5B,eAAAjN,OAAA;4BAAMwM,SAAS,EAAC,aAAa;4BAAAS,QAAA,EAAEpK,iBAAiB,CAACgH,UAAU,IAAI;0BAAc;4BAAAqD,QAAA,EAAAC,YAAA;4BAAAC,UAAA;4BAAAC,YAAA;0BAAA,OAAO,CAAC;wBAAA;0BAAAH,QAAA,EAAAC,YAAA;0BAAAC,UAAA;0BAAAC,YAAA;wBAAA,OACjG,CAAC,eACJrN,OAAA;0BAAGwM,SAAS,EAAC,wBAAwB;0BAAAS,QAAA,EAClC,IAAI5E,IAAI,CAACxF,iBAAiB,CAAC+G,UAAU,CAAC,CAACoF,cAAc,CAAC;wBAAC;0BAAA9B,QAAA,EAAAC,YAAA;0BAAAC,UAAA;0BAAAC,YAAA;wBAAA,OACvD,CAAC;sBAAA;wBAAAH,QAAA,EAAAC,YAAA;wBAAAC,UAAA;wBAAAC,YAAA;sBAAA,OACD;oBAAC;sBAAAH,QAAA,EAAAC,YAAA;sBAAAC,UAAA;sBAAAC,YAAA;oBAAA,OACH,CAAC,EAGL,CAAC,MAAM;sBACN,MAAMoC,aAAa,GAAG,CAAC5M,iBAAiB,CAACsF,SAAS,IAAI,EAAE,EACrDhC,MAAM,CAAC5B,GAAG,IAAI,CAACA,GAAG,CAACgE,MAAM,CAAC6G,QAAQ,CAAC,WAAW,CAAC,IAAI7K,GAAG,CAACgE,MAAM,CAAC6G,QAAQ,CAAC,WAAW,CAAC,KAAK7K,GAAG,CAACV,UAAU,CAAC,CACvG6L,GAAG,CAAC,CAAC;sBAER,OAAOD,aAAa,IAAIA,aAAa,CAAC5L,UAAU,iBAC9C7D,OAAA;wBAAKwM,SAAS,EAAC,kCAAkC;wBAAAS,QAAA,gBAC/CjN,OAAA;0BAAGwM,SAAS,EAAC,yCAAyC;0BAAAS,QAAA,EAAC;wBAAmB;0BAAAC,QAAA,EAAAC,YAAA;0BAAAC,UAAA;0BAAAC,YAAA;wBAAA,OAAG,CAAC,eAC9ErN,OAAA,CAACqM,SAAS;0BACRC,GAAG,EAAEmD,aAAa,CAAC5L,UAAW;0BAC9B0I,GAAG,EAAC,kBAAkB;0BACtBC,SAAS,EAAC,uFAAuF;0BACjGC,OAAO,EAAEA,CAAA,KAAM;4BACb,MAAMwC,SAAS,GAAGzE,MAAM,CAACC,IAAI,CAAC,EAAE,EAAE,QAAQ,EAAE,sBAAsB,CAAC;4BACnE,IAAIwE,SAAS,EAAE;8BACbA,SAAS,CAAC9D,QAAQ,CAACC,KAAK,CAAC;AAC/D;AACA;AACA;AACA;AACA,wDAAwDqE,aAAa,CAAC5L,UAAU;AAChF,8GAA8G4L,aAAa,CAAC7L,WAAW;AACvI;AACA;AACA,uCAAuC,CAAC;4BACJ;0BACF;wBAAE;0BAAAsJ,QAAA,EAAAC,YAAA;0BAAAC,UAAA;0BAAAC,YAAA;wBAAA,OACH,CAAC,eACFrN,OAAA;0BAAGwM,SAAS,EAAC,6BAA6B;0BAAAS,QAAA,EAAC;wBAA0B;0BAAAC,QAAA,EAAAC,YAAA;0BAAAC,UAAA;0BAAAC,YAAA;wBAAA,OAAG,CAAC;sBAAA;wBAAAH,QAAA,EAAAC,YAAA;wBAAAC,UAAA;wBAAAC,YAAA;sBAAA,OACtE,CACN;oBACH,CAAC,EAAE,CAAC;kBAAA;oBAAAH,QAAA,EAAAC,YAAA;oBAAAC,UAAA;oBAAAC,YAAA;kBAAA,OACD,CACN;gBAAA;kBAAAH,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OACE,CAAC;cAAA;gBAAAH,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OACH,CAAC,eAENrN,OAAA;gBAAKwM,SAAS,EAAC,6BAA6B;gBAAAS,QAAA,EACzClK,QAAQ,gBACP/C,OAAA,CAAAE,SAAA;kBAAA+M,QAAA,gBACEjN,OAAA;oBACEyM,OAAO,EAAEA,CAAA,KAAMzJ,WAAW,CAAC,KAAK,CAAE;oBAClCwJ,SAAS,EAAC,4EAA4E;oBAAAS,QAAA,EACvF;kBAED;oBAAAC,QAAA,EAAAC,YAAA;oBAAAC,UAAA;oBAAAC,YAAA;kBAAA,OAAQ,CAAC,eACTrN,OAAA;oBACEyM,OAAO,EAAEvE,mBAAoB;oBAC7BsE,SAAS,EAAC,iEAAiE;oBAAAS,QAAA,EAC5E;kBAED;oBAAAC,QAAA,EAAAC,YAAA;oBAAAC,UAAA;oBAAAC,YAAA;kBAAA,OAAQ,CAAC;gBAAA,eACT,CAAC,gBAEHrN,OAAA;kBACEyM,OAAO,EAAEA,CAAA,KAAM7J,qBAAqB,CAAC,KAAK,CAAE;kBAC5C4J,SAAS,EAAC,+DAA+D;kBAAAS,QAAA,EAC1E;gBAED;kBAAAC,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAAQ;cACT;gBAAAH,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OACE,CAAC;YAAA;cAAAH,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OACH;UAAC;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACH;QAAC;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACH,CACN,EAGAlK,eAAe,iBACdnD,OAAA;UAAKwM,SAAS,EAAC,gFAAgF;UAAAS,QAAA,eAC7FjN,OAAA;YAAKwM,SAAS,EAAC,sCAAsC;YAAAS,QAAA,eACnDjN,OAAA;cAAKwM,SAAS,EAAC,KAAK;cAAAS,QAAA,gBAClBjN,OAAA;gBAAKwM,SAAS,EAAC,wCAAwC;gBAAAS,QAAA,gBACrDjN,OAAA;kBAAIwM,SAAS,EAAC,iCAAiC;kBAAAS,QAAA,EAAC;gBAAuB;kBAAAC,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAAI,CAAC,eAC5ErN,OAAA;kBACEyM,OAAO,EAAEA,CAAA,KAAMrJ,kBAAkB,CAAC,KAAK,CAAE;kBACzCoJ,SAAS,EAAC,mCAAmC;kBAAAS,QAAA,eAE7CjN,OAAA;oBAAKwM,SAAS,EAAC,SAAS;oBAACoB,IAAI,EAAC,MAAM;oBAACC,OAAO,EAAC,WAAW;oBAACC,MAAM,EAAC,cAAc;oBAAAb,QAAA,eAC5EjN,OAAA;sBAAM+N,aAAa,EAAC,OAAO;sBAACC,cAAc,EAAC,OAAO;sBAACC,WAAW,EAAE,CAAE;sBAACC,CAAC,EAAC;oBAAsB;sBAAAhB,QAAA,EAAAC,YAAA;sBAAAC,UAAA;sBAAAC,YAAA;oBAAA,OAAE;kBAAC;oBAAAH,QAAA,EAAAC,YAAA;oBAAAC,UAAA;oBAAAC,YAAA;kBAAA,OAC3F;gBAAC;kBAAAH,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OACA,CAAC;cAAA;gBAAAH,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OACN,CAAC,eAENrN,OAAA;gBAAKwM,SAAS,EAAC,WAAW;gBAAAS,QAAA,gBACxBjN,OAAA;kBAAAiN,QAAA,gBACEjN,OAAA;oBAAOwM,SAAS,EAAC,8CAA8C;oBAAAS,QAAA,EAAC;kBAAM;oBAAAC,QAAA,EAAAC,YAAA;oBAAAC,UAAA;oBAAAC,YAAA;kBAAA,OAAO,CAAC,eAC9ErN,OAAA;oBACE4O,KAAK,EAAEnL,UAAU,CAACE,MAAO;oBACzBkL,QAAQ,EAAGlD,CAAC,IAAKjI,aAAa,CAAC0B,IAAI,KAAK;sBAAC,GAAGA,IAAI;sBAAEzB,MAAM,EAAEgI,CAAC,CAACE,MAAM,CAAC+C;oBAAK,CAAC,CAAC,CAAE;oBAC5EpC,SAAS,EAAC,8BAA8B;oBAAAS,QAAA,gBAExCjN,OAAA;sBAAQ4O,KAAK,EAAC,SAAS;sBAAA3B,QAAA,EAAC;oBAAO;sBAAAC,QAAA,EAAAC,YAAA;sBAAAC,UAAA;sBAAAC,YAAA;oBAAA,OAAQ,CAAC,eACxCrN,OAAA;sBAAQ4O,KAAK,EAAC,mBAAmB;sBAAA3B,QAAA,EAAC;oBAAiB;sBAAAC,QAAA,EAAAC,YAAA;sBAAAC,UAAA;sBAAAC,YAAA;oBAAA,OAAQ,CAAC,eAC5DrN,OAAA;sBAAQ4O,KAAK,EAAC,WAAW;sBAAA3B,QAAA,EAAC;oBAAS;sBAAAC,QAAA,EAAAC,YAAA;sBAAAC,UAAA;sBAAAC,YAAA;oBAAA,OAAQ,CAAC;kBAAA;oBAAAH,QAAA,EAAAC,YAAA;oBAAAC,UAAA;oBAAAC,YAAA;kBAAA,OACtC,CAAC;gBAAA;kBAAAH,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OACN,CAAC,eAENrN,OAAA;kBAAAiN,QAAA,gBACEjN,OAAA;oBAAOwM,SAAS,EAAC,8CAA8C;oBAAAS,QAAA,EAAC;kBAAoB;oBAAAC,QAAA,EAAAC,YAAA;oBAAAC,UAAA;oBAAAC,YAAA;kBAAA,OAAO,CAAC,eAC5FrN,OAAA;oBACE4O,KAAK,EAAEnL,UAAU,CAACG,WAAY;oBAC9BiL,QAAQ,EAAGlD,CAAC,IAAKjI,aAAa,CAAC0B,IAAI,KAAK;sBAAC,GAAGA,IAAI;sBAAExB,WAAW,EAAE+H,CAAC,CAACE,MAAM,CAAC+C;oBAAK,CAAC,CAAC,CAAE;oBACjFE,IAAI,EAAE,CAAE;oBACRtC,SAAS,EAAC,8BAA8B;oBACxCmD,WAAW,EAAC,gDAAgD;oBAC5DC,QAAQ;kBAAA;oBAAA1C,QAAA,EAAAC,YAAA;oBAAAC,UAAA;oBAAAC,YAAA;kBAAA,OACT,CAAC;gBAAA;kBAAAH,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OACC,CAAC,eAENrN,OAAA;kBAAAiN,QAAA,gBACEjN,OAAA;oBAAOwM,SAAS,EAAC,8CAA8C;oBAAAS,QAAA,EAAC;kBAAa;oBAAAC,QAAA,EAAAC,YAAA;oBAAAC,UAAA;oBAAAC,YAAA;kBAAA,OAAO,CAAC,eACrFrN,OAAA;oBACE+O,IAAI,EAAC,MAAM;oBACXc,MAAM,EAAC,SAAS;oBAChBhB,QAAQ,EAAEnD,gBAAiB;oBAC3Bc,SAAS,EAAC,8BAA8B;oBACxCoD,QAAQ;kBAAA;oBAAA1C,QAAA,EAAAC,YAAA;oBAAAC,UAAA;oBAAAC,YAAA;kBAAA,OACT,CAAC,EACD5J,UAAU,CAACI,UAAU,iBACpB7D,OAAA;oBAAKwM,SAAS,EAAC,MAAM;oBAAAS,QAAA,gBACnBjN,OAAA,CAACqM,SAAS;sBACRC,GAAG,EAAE7I,UAAU,CAACI,UAAW;sBAC3B0I,GAAG,EAAC,qBAAqB;sBACzBC,SAAS,EAAC;oBAAoD;sBAAAU,QAAA,EAAAC,YAAA;sBAAAC,UAAA;sBAAAC,YAAA;oBAAA,OAC/D,CAAC,eACFrN,OAAA;sBAAGwM,SAAS,EAAC,4BAA4B;sBAAAS,QAAA,EAAC;oBAAsB;sBAAAC,QAAA,EAAAC,YAAA;sBAAAC,UAAA;sBAAAC,YAAA;oBAAA,OAAG,CAAC;kBAAA;oBAAAH,QAAA,EAAAC,YAAA;oBAAAC,UAAA;oBAAAC,YAAA;kBAAA,OACjE,CACN;gBAAA;kBAAAH,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OACE,CAAC,eAENrN,OAAA;kBAAKwM,SAAS,EAAC,2BAA2B;kBAAAS,QAAA,gBACxCjN,OAAA;oBAAGwM,SAAS,EAAC,uBAAuB;oBAAAS,QAAA,GAAC,6CACF,EAAClJ,cAAc;kBAAA;oBAAAmJ,QAAA,EAAAC,YAAA;oBAAAC,UAAA;oBAAAC,YAAA;kBAAA,OAC/C,CAAC,EACH5J,UAAU,CAACK,YAAY,IAAIjB,iBAAiB,CAACoC,QAAQ,IAAIpC,iBAAiB,CAACsC,SAAS,iBACnFnF,OAAA;oBAAGwM,SAAS,EAAC,6BAA6B;oBAAAS,QAAA,GAAC,mBAC7B,EAAC1G,iBAAiB,CAC5B9C,UAAU,CAACK,YAAY,CAACiB,GAAG,EAC3BtB,UAAU,CAACK,YAAY,CAACoB,GAAG,EAC3BrC,iBAAiB,CAACoC,QAAQ,EAC1BpC,iBAAiB,CAACsC,SACpB,CAAC,CAACE,OAAO,CAAC,CAAC,CAAC,EAAC,6BACf;kBAAA;oBAAA6H,QAAA,EAAAC,YAAA;oBAAAC,UAAA;oBAAAC,YAAA;kBAAA,OAAG,CACJ,eACDrN,OAAA;oBACEyM,OAAO,EAAEhI,sBAAuB;oBAChC+H,SAAS,EAAC,0DAA0D;oBAAAS,QAAA,EACrE;kBAED;oBAAAC,QAAA,EAAAC,YAAA;oBAAAC,UAAA;oBAAAC,YAAA;kBAAA,OAAQ,CAAC;gBAAA;kBAAAH,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OACN,CAAC,eAENrN,OAAA;kBAAKwM,SAAS,EAAC,2BAA2B;kBAAAS,QAAA,eACxCjN,OAAA;oBAAGwM,SAAS,EAAC,uBAAuB;oBAAAS,QAAA,GAAC,4BACnB,eAAAjN,OAAA;sBAAMwM,SAAS,EAAC,aAAa;sBAAAS,QAAA,EAAE,CAAAxK,WAAW,aAAXA,WAAW,uBAAXA,WAAW,CAAEuF,QAAQ,MAAIvF,WAAW,aAAXA,WAAW,uBAAXA,WAAW,CAAE+F,KAAK,KAAI;oBAAc;sBAAA0E,QAAA,EAAAC,YAAA;sBAAAC,UAAA;sBAAAC,YAAA;oBAAA,OAAO,CAAC;kBAAA;oBAAAH,QAAA,EAAAC,YAAA;oBAAAC,UAAA;oBAAAC,YAAA;kBAAA,OACnH;gBAAC;kBAAAH,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OACD,CAAC;cAAA;gBAAAH,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OACH,CAAC,eAENrN,OAAA;gBAAKwM,SAAS,EAAC,6BAA6B;gBAAAS,QAAA,gBAC1CjN,OAAA;kBACEyM,OAAO,EAAEA,CAAA,KAAMrJ,kBAAkB,CAAC,KAAK,CAAE;kBACzCoJ,SAAS,EAAC,4EAA4E;kBAAAS,QAAA,EACvF;gBAED;kBAAAC,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAAQ,CAAC,eACTrN,OAAA;kBACEyM,OAAO,EAAErD,kBAAmB;kBAC5B0G,QAAQ,EAAE,CAACrM,UAAU,CAACK,YAAa;kBACnC0I,SAAS,EAAC,iHAAiH;kBAAAS,QAAA,EAC5H;gBAED;kBAAAC,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAAQ,CAAC;cAAA;gBAAAH,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OACN,CAAC;YAAA;cAAAH,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OACH;UAAC;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACH;QAAC;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACH,CACN,EAGAhK,gBAAgB,iBACfrD,OAAA;UAAKwM,SAAS,EAAC,gFAAgF;UAAAS,QAAA,eAC7FjN,OAAA;YAAKwM,SAAS,EAAC,sCAAsC;YAAAS,QAAA,eACnDjN,OAAA;cAAKwM,SAAS,EAAC,KAAK;cAAAS,QAAA,gBAClBjN,OAAA;gBAAKwM,SAAS,EAAC,wCAAwC;gBAAAS,QAAA,gBACrDjN,OAAA;kBAAIwM,SAAS,EAAC,iCAAiC;kBAAAS,QAAA,EAAC;gBAAsB;kBAAAC,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAAI,CAAC,eAC3ErN,OAAA;kBACEyM,OAAO,EAAEA,CAAA,KAAMnJ,mBAAmB,CAAC,KAAK,CAAE;kBAC1CkJ,SAAS,EAAC,mCAAmC;kBAAAS,QAAA,eAE7CjN,OAAA;oBAAKwM,SAAS,EAAC,SAAS;oBAACoB,IAAI,EAAC,MAAM;oBAACC,OAAO,EAAC,WAAW;oBAACC,MAAM,EAAC,cAAc;oBAAAb,QAAA,eAC5EjN,OAAA;sBAAM+N,aAAa,EAAC,OAAO;sBAACC,cAAc,EAAC,OAAO;sBAACC,WAAW,EAAE,CAAE;sBAACC,CAAC,EAAC;oBAAsB;sBAAAhB,QAAA,EAAAC,YAAA;sBAAAC,UAAA;sBAAAC,YAAA;oBAAA,OAAE;kBAAC;oBAAAH,QAAA,EAAAC,YAAA;oBAAAC,UAAA;oBAAAC,YAAA;kBAAA,OAC3F;gBAAC;kBAAAH,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OACA,CAAC;cAAA;gBAAAH,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OACN,CAAC,eAENrN,OAAA;gBAAKwM,SAAS,EAAC,WAAW;gBAAAS,QAAA,gBACxBjN,OAAA;kBAAAiN,QAAA,gBACEjN,OAAA;oBAAOwM,SAAS,EAAC,8CAA8C;oBAAAS,QAAA,EAAC;kBAAuB;oBAAAC,QAAA,EAAAC,YAAA;oBAAAC,UAAA;oBAAAC,YAAA;kBAAA,OAAO,CAAC,eAC/FrN,OAAA;oBACE4O,KAAK,EAAErL,iBAAkB;oBACzBsL,QAAQ,EAAGlD,CAAC,IAAKnI,oBAAoB,CAACmI,CAAC,CAACE,MAAM,CAAC+C,KAAK,CAAE;oBACtDpC,SAAS,EAAC,8BAA8B;oBAAAS,QAAA,gBAExCjN,OAAA;sBAAQ4O,KAAK,EAAC,EAAE;sBAAA3B,QAAA,EAAC;oBAAsB;sBAAAC,QAAA,EAAAC,YAAA;sBAAAC,UAAA;sBAAAC,YAAA;oBAAA,OAAQ,CAAC,EAC/C1M,iBAAiB,CAACO,GAAG,CAAC,CAAC6O,SAAS,EAAE5B,KAAK,kBACtCnO,OAAA;sBAAoB4O,KAAK,EAAEmB,SAAS,CAACnP,MAAO;sBAAAqM,QAAA,GACzC8C,SAAS,CAACnP,MAAM,EAAC,KAAG,EAACmP,SAAS,CAAClP,cAAc;oBAAA,GADnCsN,KAAK;sBAAAjB,QAAA,EAAAC,YAAA;sBAAAC,UAAA;sBAAAC,YAAA;oBAAA,OAEV,CACT,CAAC;kBAAA;oBAAAH,QAAA,EAAAC,YAAA;oBAAAC,UAAA;oBAAAC,YAAA;kBAAA,OACI,CAAC;gBAAA;kBAAAH,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OACN,CAAC,eAENrN,OAAA;kBAAAiN,QAAA,gBACEjN,OAAA;oBAAOwM,SAAS,EAAC,8CAA8C;oBAAAS,QAAA,EAAC;kBAAa;oBAAAC,QAAA,EAAAC,YAAA;oBAAAC,UAAA;oBAAAC,YAAA;kBAAA,OAAO,CAAC,eACrFrN,OAAA;oBAAKwM,SAAS,EAAC,0CAA0C;oBAAAS,QAAA,GAAC,2CACnC,eAAAjN,OAAA;sBAAAkN,QAAA,EAAAC,YAAA;sBAAAC,UAAA;sBAAAC,YAAA;oBAAA,OAAI,CAAC,eAAArN,OAAA;sBAAAkN,QAAA,EAAAC,YAAA;sBAAAC,UAAA;sBAAAC,YAAA;oBAAA,OAAI,CAAC,cACrB,EAACxK,iBAAiB,aAAjBA,iBAAiB,uBAAjBA,iBAAiB,CAAE8F,QAAQ,eAAC3I,OAAA;sBAAAkN,QAAA,EAAAC,YAAA;sBAAAC,UAAA;sBAAAC,YAAA;oBAAA,OAAI,CAAC,cAClC,EAACxK,iBAAiB,aAAjBA,iBAAiB,uBAAjBA,iBAAiB,CAAE+F,QAAQ,eAAC5I,OAAA;sBAAAkN,QAAA,EAAAC,YAAA;sBAAAC,UAAA;sBAAAC,YAAA;oBAAA,OAAI,CAAC,cAClC,EAACxK,iBAAiB,aAAjBA,iBAAiB,uBAAjBA,iBAAiB,CAAEgG,OAAO,eAAC7I,OAAA;sBAAAkN,QAAA,EAAAC,YAAA;sBAAAC,UAAA;sBAAAC,YAAA;oBAAA,OAAI,CAAC,EAC1C,CAAAxK,iBAAiB,aAAjBA,iBAAiB,uBAAjBA,iBAAiB,CAAEoC,QAAQ,MAAIpC,iBAAiB,aAAjBA,iBAAiB,uBAAjBA,iBAAiB,CAAEsC,SAAS,kBAC1DnF,OAAA,CAAAE,SAAA;sBAAA+M,QAAA,GAAE,eAAG,EAACpK,iBAAiB,CAACoC,QAAQ,CAACI,OAAO,CAAC,CAAC,CAAC,EAAC,IAAE,EAACxC,iBAAiB,CAACsC,SAAS,CAACE,OAAO,CAAC,CAAC,CAAC,eAACrF,OAAA;wBAAAkN,QAAA,EAAAC,YAAA;wBAAAC,UAAA;wBAAAC,YAAA;sBAAA,OAAI,CAAC;oBAAA,eAAE,CAC9F,eACDrN,OAAA;sBAAAkN,QAAA,EAAAC,YAAA;sBAAAC,UAAA;sBAAAC,YAAA;oBAAA,OAAI,CAAC,iBACQ,EAACxK,iBAAiB,aAAjBA,iBAAiB,uBAAjBA,iBAAiB,CAAEe,WAAW,eAAC5D,OAAA;sBAAAkN,QAAA,EAAAC,YAAA;sBAAAC,UAAA;sBAAAC,YAAA;oBAAA,OAAI,CAAC,eAAArN,OAAA;sBAAAkN,QAAA,EAAAC,YAAA;sBAAAC,UAAA;sBAAAC,YAAA;oBAAA,OAAI,CAAC,EACtD9J,iBAAiB,iBAAIvD,OAAA;sBAAMwM,SAAS,EAAC,eAAe;sBAAAS,QAAA,EAAE1J;oBAAiB;sBAAA2J,QAAA,EAAAC,YAAA;sBAAAC,UAAA;sBAAAC,YAAA;oBAAA,OAAO,CAAC,eAACrN,OAAA;sBAAAkN,QAAA,EAAAC,YAAA;sBAAAC,UAAA;sBAAAC,YAAA;oBAAA,OAAI,CAAC,eAAArN,OAAA;sBAAAkN,QAAA,EAAAC,YAAA;sBAAAC,UAAA;sBAAAC,YAAA;oBAAA,OAAI,CAAC,oCAE7F;kBAAA;oBAAAH,QAAA,EAAAC,YAAA;oBAAAC,UAAA;oBAAAC,YAAA;kBAAA,OAAK,CAAC;gBAAA;kBAAAH,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OACH,CAAC;cAAA;gBAAAH,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OACH,CAAC,eAENrN,OAAA;gBAAKwM,SAAS,EAAC,6BAA6B;gBAAAS,QAAA,gBAC1CjN,OAAA;kBACEyM,OAAO,EAAEA,CAAA,KAAMnJ,mBAAmB,CAAC,KAAK,CAAE;kBAC1CkJ,SAAS,EAAC,4EAA4E;kBAAAS,QAAA,EACvF;gBAED;kBAAAC,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAAQ,CAAC,eACTrN,OAAA;kBACEyM,OAAO,EAAEvC,aAAc;kBACvBsC,SAAS,EAAC,+DAA+D;kBAAAS,QAAA,EAC1E;gBAED;kBAAAC,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAAQ,CAAC;cAAA;gBAAAH,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OACN,CAAC;YAAA;cAAAH,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OACH;UAAC;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACH;QAAC;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACH,CACN,EAGApL,OAAO,iBACNjC,OAAA;UAAKwM,SAAS,EAAC,gFAAgF;UAAAS,QAAA,eAC7FjN,OAAA;YAAKwM,SAAS,EAAC,sCAAsC;YAAAS,QAAA,eACnDjN,OAAA;cAAKwM,SAAS,EAAC,KAAK;cAAAS,QAAA,gBAClBjN,OAAA;gBAAKwM,SAAS,EAAC,wCAAwC;gBAAAS,QAAA,gBACrDjN,OAAA;kBAAIwM,SAAS,EAAC,qBAAqB;kBAAAS,QAAA,EAChC9K,gBAAgB,GAAG,aAAaA,gBAAgB,CAACsJ,KAAK,EAAE,GAAG;gBAAoB;kBAAAyB,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAC9E,CAAC,eACLrN,OAAA;kBACEyM,OAAO,EAAEA,CAAA,KAAMvK,UAAU,CAAC,KAAK,CAAE;kBACjCsK,SAAS,EAAC,mCAAmC;kBAAAS,QAAA,eAE7CjN,OAAA;oBAAKwM,SAAS,EAAC,SAAS;oBAACoB,IAAI,EAAC,MAAM;oBAACC,OAAO,EAAC,WAAW;oBAACC,MAAM,EAAC,cAAc;oBAAAb,QAAA,eAC5EjN,OAAA;sBAAM+N,aAAa,EAAC,OAAO;sBAACC,cAAc,EAAC,OAAO;sBAACC,WAAW,EAAE,CAAE;sBAACC,CAAC,EAAC;oBAAsB;sBAAAhB,QAAA,EAAAC,YAAA;sBAAAC,UAAA;sBAAAC,YAAA;oBAAA,OAAE;kBAAC;oBAAAH,QAAA,EAAAC,YAAA;oBAAAC,UAAA;oBAAAC,YAAA;kBAAA,OAC3F;gBAAC;kBAAAH,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OACA,CAAC;cAAA;gBAAAH,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OACN,CAAC,eAENrN,OAAA;gBAAKwM,SAAS,EAAC,iCAAiC;gBAAAS,QAAA,eAC9CjN,OAAA,CAACR,YAAY;kBACXuB,MAAM,EAAEsB,SAAU;kBAClBrB,IAAI,EAAEuB,OAAQ;kBACdyN,eAAe,EAAE,IAAK;kBACtBzC,KAAK,EAAE;oBAAE0C,MAAM,EAAE,MAAM;oBAAEC,KAAK,EAAE;kBAAO,CAAE;kBAAAjD,QAAA,gBAEzCjN,OAAA,CAACc,OAAO;oBAACC,MAAM,EAAEsB,SAAU;oBAACrB,IAAI,EAAEuB;kBAAQ;oBAAA2K,QAAA,EAAAC,YAAA;oBAAAC,UAAA;oBAAAC,YAAA;kBAAA,OAAE,CAAC,eAC7CrN,OAAA,CAACP,SAAS;oBACR0Q,WAAW,EAAC,yFAAyF;oBACrGC,GAAG,EAAC;kBAAoD;oBAAAlD,QAAA,EAAAC,YAAA;oBAAAC,UAAA;oBAAAC,YAAA;kBAAA,OACzD,CAAC,EACDlL,gBAAgB,iBACfnC,OAAA,CAACN,MAAM;oBAACmF,QAAQ,EAAE,CAAC1C,gBAAgB,CAAC4C,GAAG,EAAE5C,gBAAgB,CAAC+C,GAAG,CAAE;oBAAA+H,QAAA,eAC7DjN,OAAA,CAACL,KAAK;sBAAAsN,QAAA,eACJjN,OAAA;wBAAAiN,QAAA,eACEjN,OAAA;0BAAIwM,SAAS,EAAC,WAAW;0BAAAS,QAAA,EAAE9K,gBAAgB,CAACsJ;wBAAK;0BAAAyB,QAAA,EAAAC,YAAA;0BAAAC,UAAA;0BAAAC,YAAA;wBAAA,OAAK;sBAAC;wBAAAH,QAAA,EAAAC,YAAA;wBAAAC,UAAA;wBAAAC,YAAA;sBAAA,OACpD;oBAAC;sBAAAH,QAAA,EAAAC,YAAA;sBAAAC,UAAA;sBAAAC,YAAA;oBAAA,OACD;kBAAC;oBAAAH,QAAA,EAAAC,YAAA;oBAAAC,UAAA;oBAAAC,YAAA;kBAAA,OACF,CACT;gBAAA;kBAAAH,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OACW;cAAC;gBAAAH,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OACZ,CAAC;YAAA;cAAAH,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OACH;UAAC;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACH;QAAC;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACH,CACN,eAEDrN,OAAA;UAAKwM,SAAS,EAAC,mEAAmE;UAAAS,QAAA,gBAChFjN,OAAA;YAAAiN,QAAA,gBACEjN,OAAA;cAAIwM,SAAS,EAAC,kCAAkC;cAAAS,QAAA,EAAC;YAAoB;cAAAC,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAI,CAAC,eAC1ErN,OAAA;cAAGwM,SAAS,EAAC,4BAA4B;cAAAS,QAAA,GAAC,SACjC,EAACtL,gBAAgB,CAACgM,MAAM,GAAG9L,gBAAgB,CAAC8L,MAAM,EAAC,aAC1D,EAAClL,WAAW,iBACVzC,OAAA;gBAAMwM,SAAS,EAAC,oBAAoB;gBAAAS,QAAA,GAAC,uBAAgB,EAACxK,WAAW,CAACuF,QAAQ,IAAIvF,WAAW,CAAC+F,KAAK;cAAA;gBAAA0E,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAO,CACvG;YAAA;cAAAH,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OACA,CAAC;UAAA;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACD,CAAC,eACNrN,OAAA;YAAKwM,SAAS,EAAC,6BAA6B;YAAAS,QAAA,eAC1CjN,OAAA;cACEyM,OAAO,EAAEjI,eAAgB;cACzBgI,SAAS,EAAC,kIAAkI;cAAAS,QAAA,EAC7I;YAED;cAAAC,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAQ;UAAC;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACN,CAAC;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACH,CAAC,eAENrN,OAAA;UAAKwM,SAAS,EAAC,MAAM;UAAAS,QAAA,eACnBjN,OAAA;YAAKwM,SAAS,EAAC,0BAA0B;YAAAS,QAAA,eACvCjN,OAAA;cAAKwM,SAAS,EAAC,uBAAuB;cAAAS,QAAA,gBACpCjN,OAAA;gBACEyM,OAAO,EAAEA,CAAA,KAAM/K,gBAAgB,CAAC,QAAQ,CAAE;gBAC1C8K,SAAS,EAAE,GACT/K,aAAa,KAAK,QAAQ,GACtB,+BAA+B,GAC/B,4EAA4E,6DACpB;gBAAAwL,QAAA,GAC/D,qBACoB,EAACtL,gBAAgB,CAACgM,MAAM,EAAC,GAC9C;cAAA;gBAAAT,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAQ,CAAC,eACTrN,OAAA;gBACEyM,OAAO,EAAEA,CAAA,KAAM/K,gBAAgB,CAAC,WAAW,CAAE;gBAC7C8K,SAAS,EAAE,GACT/K,aAAa,KAAK,WAAW,GACzB,+BAA+B,GAC/B,4EAA4E,6DACpB;gBAAAwL,QAAA,GAC/D,wBACuB,EAACpL,gBAAgB,CAAC8L,MAAM,EAAC,GACjD;cAAA;gBAAAT,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAQ,CAAC;YAAA;cAAAH,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OACN;UAAC;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACH;QAAC;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACH,CAAC,eAENrN,OAAA;UAAKwM,SAAS,EAAC,+CAA+C;UAAAS,QAAA,EAC3DxL,aAAa,KAAK,QAAQ,gBACzBzB,OAAA,CAACT,WAAW;YAAC8Q,IAAI,EAAE7B;UAAW;YAAAtB,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAE,CAAC,gBAEjCrN,OAAA,CAACT,WAAW;YAAC8Q,IAAI,EAAE1B;UAAW;YAAAzB,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAE;QACjC;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACE,CAAC;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACH;IAAC;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACF,CAAC;EAAA;IAAAH,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OACJ,CAAC;AAEV;AAAC/L,GAAA,CAr9CQD,UAAU;AAAAiP,GAAA,GAAVjP,UAAU;AAu9CnB,eAAeA,UAAU;AAAC,IAAAD,EAAA,EAAAkP,GAAA;AAAAC,YAAA,CAAAnP,EAAA;AAAAmP,YAAA,CAAAD,GAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}